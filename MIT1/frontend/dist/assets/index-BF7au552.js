import{r as m,a as Rt,b as At,R as it}from"./vendor-BStAX1aO.js";import{m as i,S as ye,Z as Ot,a as de,A as Le,b as U,T as Q,F as lt,c as Lt,C as Mt,d as H,E as nt,e as Me,f as Ie,g as ot,B as q,U as oe,h as ct,i as dt,j as qe,k as G,H as ve,P as Re,D as je,l as It,n as Ht,o as Ve,p as he,q as pe,r as Dt,s as Ft,t as mt,u as Bt,v as We,G as Ut,w as se,x as Ae,y as Oe,L as zt,z as Gt,I as qt,J as Vt}from"./ui-BxmPmzUG.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function s(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=s(l);fetch(l.href,o)}})();var ut={exports:{}},Ce={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=m,Jt=Symbol.for("react.element"),Qt=Symbol.for("react.fragment"),Yt=Object.prototype.hasOwnProperty,Xt=Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zt={key:!0,ref:!0,__self:!0,__source:!0};function xt(t,a,s){var r,l={},o=null,n=null;s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),a.ref!==void 0&&(n=a.ref);for(r in a)Yt.call(a,r)&&!Zt.hasOwnProperty(r)&&(l[r]=a[r]);if(t&&t.defaultProps)for(r in a=t.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Jt,type:t,key:o,ref:n,props:l,_owner:Xt.current}}Ce.Fragment=Qt;Ce.jsx=xt;Ce.jsxs=xt;ut.exports=Ce;var e=ut.exports,He={},Je=Rt;He.createRoot=Je.createRoot,He.hydrateRoot=Je.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},we.apply(this,arguments)}var Z;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Z||(Z={}));const Qe="popstate";function Kt(t){t===void 0&&(t={});function a(r,l){let{pathname:o,search:n,hash:u}=r.location;return De("",{pathname:o,search:n,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(r,l){return typeof l=="string"?l:pt(l)}return ta(a,s,null,t)}function F(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function ht(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function ea(){return Math.random().toString(36).substr(2,8)}function Ye(t,a){return{usr:t.state,key:t.key,idx:a}}function De(t,a,s,r){return s===void 0&&(s=null),we({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof a=="string"?ke(a):a,{state:s,key:a&&a.key||r||ea()})}function pt(t){let{pathname:a="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(a+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function ke(t){let a={};if(t){let s=t.indexOf("#");s>=0&&(a.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(a.search=t.substr(r),t=t.substr(0,r)),t&&(a.pathname=t)}return a}function ta(t,a,s,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:o=!1}=r,n=l.history,u=Z.Pop,c=null,h=f();h==null&&(h=0,n.replaceState(we({},n.state,{idx:h}),""));function f(){return(n.state||{idx:null}).idx}function d(){u=Z.Pop;let g=f(),C=g==null?null:g-h;h=g,c&&c({action:u,location:j.location,delta:C})}function v(g,C){u=Z.Push;let T=De(j.location,g,C);h=f()+1;let N=Ye(T,h),$=j.createHref(T);try{n.pushState(N,"",$)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign($)}o&&c&&c({action:u,location:j.location,delta:1})}function _(g,C){u=Z.Replace;let T=De(j.location,g,C);h=f();let N=Ye(T,h),$=j.createHref(T);n.replaceState(N,"",$),o&&c&&c({action:u,location:j.location,delta:0})}function S(g){let C=l.location.origin!=="null"?l.location.origin:l.location.href,T=typeof g=="string"?g:pt(g);return T=T.replace(/ $/,"%20"),F(C,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,C)}let j={get action(){return u},get location(){return t(l,n)},listen(g){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Qe,d),c=g,()=>{l.removeEventListener(Qe,d),c=null}},createHref(g){return a(l,g)},createURL:S,encodeLocation(g){let C=S(g);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:_,go(g){return n.go(g)}};return j}var Xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xe||(Xe={}));function aa(t,a,s){return s===void 0&&(s="/"),sa(t,a,s)}function sa(t,a,s,r){let l=typeof a=="string"?ke(a):a,o=ft(l.pathname||"/",s);if(o==null)return null;let n=gt(t);ra(n);let u=null;for(let c=0;u==null&&c<n.length;++c){let h=ga(o);u=xa(n[c],h)}return u}function gt(t,a,s,r){a===void 0&&(a=[]),s===void 0&&(s=[]),r===void 0&&(r="");let l=(o,n,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:n,route:o};c.relativePath.startsWith("/")&&(F(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=ce([r,c.relativePath]),f=s.concat(c);o.children&&o.children.length>0&&(F(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),gt(o.children,a,f,h)),!(o.path==null&&!o.index)&&a.push({path:h,score:ma(h,o.index),routesMeta:f})};return t.forEach((o,n)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))l(o,n);else for(let c of bt(o.path))l(o,n,c)}),a}function bt(t){let a=t.split("/");if(a.length===0)return[];let[s,...r]=a,l=s.endsWith("?"),o=s.replace(/\?$/,"");if(r.length===0)return l?[o,""]:[o];let n=bt(r.join("/")),u=[];return u.push(...n.map(c=>c===""?o:[o,c].join("/"))),l&&u.push(...n),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function ra(t){t.sort((a,s)=>a.score!==s.score?s.score-a.score:ua(a.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const ia=/^:[\w-]+$/,la=3,na=2,oa=1,ca=10,da=-2,Ze=t=>t==="*";function ma(t,a){let s=t.split("/"),r=s.length;return s.some(Ze)&&(r+=da),a&&(r+=na),s.filter(l=>!Ze(l)).reduce((l,o)=>l+(ia.test(o)?la:o===""?oa:ca),r)}function ua(t,a){return t.length===a.length&&t.slice(0,-1).every((r,l)=>r===a[l])?t[t.length-1]-a[a.length-1]:0}function xa(t,a,s){let{routesMeta:r}=t,l={},o="/",n=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,f=o==="/"?a:a.slice(o.length)||"/",d=ha({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),v=c.route;if(!d)return null;Object.assign(l,d.params),n.push({params:l,pathname:ce([o,d.pathname]),pathnameBase:ba(ce([o,d.pathnameBase])),route:v}),d.pathnameBase!=="/"&&(o=ce([o,d.pathnameBase]))}return n}function ha(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=pa(t.path,t.caseSensitive,t.end),l=a.match(s);if(!l)return null;let o=l[0],n=o.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:r.reduce((h,f,d)=>{let{paramName:v,isOptional:_}=f;if(v==="*"){let j=u[d]||"";n=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const S=u[d];return _&&!S?h[v]=void 0:h[v]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:n,pattern:t}}function pa(t,a,s){a===void 0&&(a=!1),s===void 0&&(s=!0),ht(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(n,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,a?void 0:"i"),r]}function ga(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ht(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),t}}function ft(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}const ce=t=>t.join("/").replace(/\/\/+/g,"/"),ba=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function fa(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yt=["post","put","patch","delete"];new Set(yt);const ya=["get",...yt];new Set(ya);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ne(){return Ne=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Ne.apply(this,arguments)}const va=m.createContext(null),ja=m.createContext(null),vt=m.createContext(null),Se=m.createContext(null),$e=m.createContext({outlet:null,matches:[],isDataRoute:!1}),jt=m.createContext(null);function ze(){return m.useContext(Se)!=null}function wa(){return ze()||F(!1),m.useContext(Se).location}function Na(t,a){return _a(t,a)}function _a(t,a,s,r){ze()||F(!1);let{navigator:l}=m.useContext(vt),{matches:o}=m.useContext($e),n=o[o.length-1],u=n?n.params:{};n&&n.pathname;let c=n?n.pathnameBase:"/";n&&n.route;let h=wa(),f;if(a){var d;let g=typeof a=="string"?ke(a):a;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||F(!1),f=g}else f=h;let v=f.pathname||"/",_=v;if(c!=="/"){let g=c.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(g.length).join("/")}let S=aa(t,{pathname:_}),j=Ea(S&&S.map(g=>Object.assign({},g,{params:Object.assign({},u,g.params),pathname:ce([c,l.encodeLocation?l.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:ce([c,l.encodeLocation?l.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,s,r);return a&&j?m.createElement(Se.Provider,{value:{location:Ne({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Z.Pop}},j):j}function Ca(){let t=Aa(),a=fa(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},a),s?m.createElement("pre",{style:l},s):null,null)}const ka=m.createElement(Ca,null);class Sa extends m.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,s){return s.location!==a.location||s.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:s.error,location:s.location,revalidation:a.revalidation||s.revalidation}}componentDidCatch(a,s){console.error("React Router caught the following error during render",a,s)}render(){return this.state.error!==void 0?m.createElement($e.Provider,{value:this.props.routeContext},m.createElement(jt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $a(t){let{routeContext:a,match:s,children:r}=t,l=m.useContext(va);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),m.createElement($e.Provider,{value:a},r)}function Ea(t,a,s,r){var l;if(a===void 0&&(a=[]),s===void 0&&(s=null),r===void 0&&(r=null),t==null){var o;if(!s)return null;if(s.errors)t=s.matches;else if((o=r)!=null&&o.v7_partialHydration&&a.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let n=t,u=(l=s)==null?void 0:l.errors;if(u!=null){let f=n.findIndex(d=>d.route.id&&(u==null?void 0:u[d.route.id])!==void 0);f>=0||F(!1),n=n.slice(0,Math.min(n.length,f+1))}let c=!1,h=-1;if(s&&r&&r.v7_partialHydration)for(let f=0;f<n.length;f++){let d=n[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:v,errors:_}=s,S=d.route.loader&&v[d.route.id]===void 0&&(!_||_[d.route.id]===void 0);if(d.route.lazy||S){c=!0,h>=0?n=n.slice(0,h+1):n=[n[0]];break}}}return n.reduceRight((f,d,v)=>{let _,S=!1,j=null,g=null;s&&(_=u&&d.route.id?u[d.route.id]:void 0,j=d.route.errorElement||ka,c&&(h<0&&v===0?(Oa("route-fallback"),S=!0,g=null):h===v&&(S=!0,g=d.route.hydrateFallbackElement||null)));let C=a.concat(n.slice(0,v+1)),T=()=>{let N;return _?N=j:S?N=g:d.route.Component?N=m.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=f,m.createElement($a,{match:d,routeContext:{outlet:f,matches:C,isDataRoute:s!=null},children:N})};return s&&(d.route.ErrorBoundary||d.route.errorElement||v===0)?m.createElement(Sa,{location:s.location,revalidation:s.revalidation,component:j,error:_,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}var wt=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wt||{});function Ta(t){let a=m.useContext(ja);return a||F(!1),a}function Pa(t){let a=m.useContext($e);return a||F(!1),a}function Ra(t){let a=Pa(),s=a.matches[a.matches.length-1];return s.route.id||F(!1),s.route.id}function Aa(){var t;let a=m.useContext(jt),s=Ta(wt.UseRouteError),r=Ra();return a!==void 0?a:(t=s.errors)==null?void 0:t[r]}const Ke={};function Oa(t,a,s){Ke[t]||(Ke[t]=!0)}function La(t,a){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Nt(t){F(!1)}function Ma(t){let{basename:a="/",children:s=null,location:r,navigationType:l=Z.Pop,navigator:o,static:n=!1,future:u}=t;ze()&&F(!1);let c=a.replace(/^\/*/,"/"),h=m.useMemo(()=>({basename:c,navigator:o,static:n,future:Ne({v7_relativeSplatPath:!1},u)}),[c,u,o,n]);typeof r=="string"&&(r=ke(r));let{pathname:f="/",search:d="",hash:v="",state:_=null,key:S="default"}=r,j=m.useMemo(()=>{let g=ft(f,c);return g==null?null:{location:{pathname:g,search:d,hash:v,state:_,key:S},navigationType:l}},[c,f,d,v,_,S,l]);return j==null?null:m.createElement(vt.Provider,{value:h},m.createElement(Se.Provider,{children:s,value:j}))}function Ia(t){let{children:a,location:s}=t;return Na(Fe(a),s)}new Promise(()=>{});function Fe(t,a){a===void 0&&(a=[]);let s=[];return m.Children.forEach(t,(r,l)=>{if(!m.isValidElement(r))return;let o=[...a,l];if(r.type===m.Fragment){s.push.apply(s,Fe(r.props.children,o));return}r.type!==Nt&&F(!1),!r.props.index||!r.props.children||F(!1);let n={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(n.children=Fe(r.props.children,o)),s.push(n)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ha="6";try{window.__reactRouterVersion=Ha}catch{}const Da="startTransition",et=At[Da];function Fa(t){let{basename:a,children:s,future:r,window:l}=t,o=m.useRef();o.current==null&&(o.current=Kt({window:l,v5Compat:!0}));let n=o.current,[u,c]=m.useState({action:n.action,location:n.location}),{v7_startTransition:h}=r||{},f=m.useCallback(d=>{h&&et?et(()=>c(d)):c(d)},[c,h]);return m.useLayoutEffect(()=>n.listen(f),[n,f]),m.useEffect(()=>La(r),[r]),m.createElement(Ma,{basename:a,children:s,location:u.location,navigationType:u.action,navigator:n,future:r})}var tt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tt||(tt={}));var at;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(at||(at={}));let Ba={data:""},Ua=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ba,za=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ga=/\/\*[^]*?\*\/|  +/g,st=/\n+/g,X=(t,a)=>{let s="",r="",l="";for(let o in t){let n=t[o];o[0]=="@"?o[1]=="i"?s=o+" "+n+";":r+=o[1]=="f"?X(n,o):o+"{"+X(n,o[1]=="k"?"":a)+"}":typeof n=="object"?r+=X(n,a?a.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,u):u?u+" "+c:c)):o):n!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=X.p?X.p(o,n):o+":"+n+";")}return s+(a&&l?a+"{"+l+"}":l)+r},J={},_t=t=>{if(typeof t=="object"){let a="";for(let s in t)a+=s+_t(t[s]);return a}return t},qa=(t,a,s,r,l)=>{let o=_t(t),n=J[o]||(J[o]=(c=>{let h=0,f=11;for(;h<c.length;)f=101*f+c.charCodeAt(h++)>>>0;return"go"+f})(o));if(!J[n]){let c=o!==t?t:(h=>{let f,d,v=[{}];for(;f=za.exec(h.replace(Ga,""));)f[4]?v.shift():f[3]?(d=f[3].replace(st," ").trim(),v.unshift(v[0][d]=v[0][d]||{})):v[0][f[1]]=f[2].replace(st," ").trim();return v[0]})(t);J[n]=X(l?{["@keyframes "+n]:c}:c,s?"":"."+n)}let u=s&&J.g?J.g:null;return s&&(J.g=J[n]),((c,h,f,d)=>{d?h.data=h.data.replace(d,c):h.data.indexOf(c)===-1&&(h.data=f?c+h.data:h.data+c)})(J[n],a,r,u),n},Va=(t,a,s)=>t.reduce((r,l,o)=>{let n=a[o];if(n&&n.call){let u=n(s),c=u&&u.props&&u.props.className||/^go/.test(u)&&u;n=c?"."+c:u&&typeof u=="object"?u.props?"":X(u,""):u===!1?"":u}return r+l+(n??"")},"");function Ee(t){let a=this||{},s=t.call?t(a.p):t;return qa(s.unshift?s.raw?Va(s,[].slice.call(arguments,1),a.p):s.reduce((r,l)=>Object.assign(r,l&&l.call?l(a.p):l),{}):s,Ua(a.target),a.g,a.o,a.k)}let Ct,Be,Ue;Ee.bind({g:1});let Y=Ee.bind({k:1});function Wa(t,a,s,r){X.p=a,Ct=t,Be=s,Ue=r}function K(t,a){let s=this||{};return function(){let r=arguments;function l(o,n){let u=Object.assign({},o),c=u.className||l.className;s.p=Object.assign({theme:Be&&Be()},u),s.o=/ *go\d+/.test(c),u.className=Ee.apply(s,r)+(c?" "+c:"");let h=t;return t[0]&&(h=u.as||t,delete u.as),Ue&&h[0]&&Ue(u),Ct(h,u)}return l}}var Ja=t=>typeof t=="function",_e=(t,a)=>Ja(t)?t(a):t,Qa=(()=>{let t=0;return()=>(++t).toString()})(),kt=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let a=matchMedia("(prefers-reduced-motion: reduce)");t=!a||a.matches}return t}})(),Ya=20,Ge="default",St=(t,a)=>{let{toastLimit:s}=t.settings;switch(a.type){case 0:return{...t,toasts:[a.toast,...t.toasts].slice(0,s)};case 1:return{...t,toasts:t.toasts.map(n=>n.id===a.toast.id?{...n,...a.toast}:n)};case 2:let{toast:r}=a;return St(t,{type:t.toasts.find(n=>n.id===r.id)?1:0,toast:r});case 3:let{toastId:l}=a;return{...t,toasts:t.toasts.map(n=>n.id===l||l===void 0?{...n,dismissed:!0,visible:!1}:n)};case 4:return a.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==a.toastId)};case 5:return{...t,pausedAt:a.time};case 6:let o=a.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(n=>({...n,pauseDuration:n.pauseDuration+o}))}}},fe=[],$t={toasts:[],pausedAt:void 0,settings:{toastLimit:Ya}},V={},Et=(t,a=Ge)=>{V[a]=St(V[a]||$t,t),fe.forEach(([s,r])=>{s===a&&r(V[a])})},Tt=t=>Object.keys(V).forEach(a=>Et(t,a)),Xa=t=>Object.keys(V).find(a=>V[a].toasts.some(s=>s.id===t)),Te=(t=Ge)=>a=>{Et(a,t)},Za={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ka=(t={},a=Ge)=>{let[s,r]=m.useState(V[a]||$t),l=m.useRef(V[a]);m.useEffect(()=>(l.current!==V[a]&&r(V[a]),fe.push([a,r]),()=>{let n=fe.findIndex(([u])=>u===a);n>-1&&fe.splice(n,1)}),[a]);let o=s.toasts.map(n=>{var u,c,h;return{...t,...t[n.type],...n,removeDelay:n.removeDelay||((u=t[n.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:n.duration||((c=t[n.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||Za[n.type],style:{...t.style,...(h=t[n.type])==null?void 0:h.style,...n.style}}});return{...s,toasts:o}},es=(t,a="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:a,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Qa()}),ge=t=>(a,s)=>{let r=es(a,t,s);return Te(r.toasterId||Xa(r.id))({type:2,toast:r}),r.id},M=(t,a)=>ge("blank")(t,a);M.error=ge("error");M.success=ge("success");M.loading=ge("loading");M.custom=ge("custom");M.dismiss=(t,a)=>{let s={type:3,toastId:t};a?Te(a)(s):Tt(s)};M.dismissAll=t=>M.dismiss(void 0,t);M.remove=(t,a)=>{let s={type:4,toastId:t};a?Te(a)(s):Tt(s)};M.removeAll=t=>M.remove(void 0,t);M.promise=(t,a,s)=>{let r=M.loading(a.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(l=>{let o=a.success?_e(a.success,l):void 0;return o?M.success(o,{id:r,...s,...s==null?void 0:s.success}):M.dismiss(r),l}).catch(l=>{let o=a.error?_e(a.error,l):void 0;o?M.error(o,{id:r,...s,...s==null?void 0:s.error}):M.dismiss(r)}),t};var ts=1e3,as=(t,a="default")=>{let{toasts:s,pausedAt:r}=Ka(t,a),l=m.useRef(new Map).current,o=m.useCallback((d,v=ts)=>{if(l.has(d))return;let _=setTimeout(()=>{l.delete(d),n({type:4,toastId:d})},v);l.set(d,_)},[]);m.useEffect(()=>{if(r)return;let d=Date.now(),v=s.map(_=>{if(_.duration===1/0)return;let S=(_.duration||0)+_.pauseDuration-(d-_.createdAt);if(S<0){_.visible&&M.dismiss(_.id);return}return setTimeout(()=>M.dismiss(_.id,a),S)});return()=>{v.forEach(_=>_&&clearTimeout(_))}},[s,r,a]);let n=m.useCallback(Te(a),[a]),u=m.useCallback(()=>{n({type:5,time:Date.now()})},[n]),c=m.useCallback((d,v)=>{n({type:1,toast:{id:d,height:v}})},[n]),h=m.useCallback(()=>{r&&n({type:6,time:Date.now()})},[r,n]),f=m.useCallback((d,v)=>{let{reverseOrder:_=!1,gutter:S=8,defaultPosition:j}=v||{},g=s.filter(N=>(N.position||j)===(d.position||j)&&N.height),C=g.findIndex(N=>N.id===d.id),T=g.filter((N,$)=>$<C&&N.visible).length;return g.filter(N=>N.visible).slice(..._?[T+1]:[0,T]).reduce((N,$)=>N+($.height||0)+S,0)},[s]);return m.useEffect(()=>{s.forEach(d=>{if(d.dismissed)o(d.id,d.removeDelay);else{let v=l.get(d.id);v&&(clearTimeout(v),l.delete(d.id))}})},[s,o]),{toasts:s,handlers:{updateHeight:c,startPause:u,endPause:h,calculateOffset:f}}},ss=Y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rs=Y`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,is=Y`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ls=K("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ss} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rs} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${is} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ns=Y`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,os=K("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ns} 1s linear infinite;
`,cs=Y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ds=Y`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ms=K("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cs} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ds} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,us=K("div")`
  position: absolute;
`,xs=K("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,hs=Y`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ps=K("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${hs} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gs=({toast:t})=>{let{icon:a,type:s,iconTheme:r}=t;return a!==void 0?typeof a=="string"?m.createElement(ps,null,a):a:s==="blank"?null:m.createElement(xs,null,m.createElement(os,{...r}),s!=="loading"&&m.createElement(us,null,s==="error"?m.createElement(ls,{...r}):m.createElement(ms,{...r})))},bs=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fs=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ys="0%{opacity:0;} 100%{opacity:1;}",vs="0%{opacity:1;} 100%{opacity:0;}",js=K("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ws=K("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ns=(t,a)=>{let s=t.includes("top")?1:-1,[r,l]=kt()?[ys,vs]:[bs(s),fs(s)];return{animation:a?`${Y(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Y(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_s=m.memo(({toast:t,position:a,style:s,children:r})=>{let l=t.height?Ns(t.position||a||"top-center",t.visible):{opacity:0},o=m.createElement(gs,{toast:t}),n=m.createElement(ws,{...t.ariaProps},_e(t.message,t));return m.createElement(js,{className:t.className,style:{...l,...s,...t.style}},typeof r=="function"?r({icon:o,message:n}):m.createElement(m.Fragment,null,o,n))});Wa(m.createElement);var Cs=({id:t,className:a,style:s,onHeightUpdate:r,children:l})=>{let o=m.useCallback(n=>{if(n){let u=()=>{let c=n.getBoundingClientRect().height;r(t,c)};u(),new MutationObserver(u).observe(n,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return m.createElement("div",{ref:o,className:a,style:s},l)},ks=(t,a)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},l=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${a*(s?1:-1)}px)`,...r,...l}},Ss=Ee`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,be=16,$s=({reverseOrder:t,position:a="top-center",toastOptions:s,gutter:r,children:l,toasterId:o,containerStyle:n,containerClassName:u})=>{let{toasts:c,handlers:h}=as(s,o);return m.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:be,left:be,right:be,bottom:be,pointerEvents:"none",...n},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},c.map(f=>{let d=f.position||a,v=h.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:a}),_=ks(d,v);return m.createElement(Cs,{id:f.id,key:f.id,onHeightUpdate:h.updateHeight,className:f.visible?Ss:"",style:_},f.type==="custom"?_e(f.message,f):l?l(f):m.createElement(_s,{toast:f,position:d}))}))};const Es=({onSearch:t,loading:a=!1})=>{const[s,r]=m.useState(""),[l,o]=m.useState(!1),[n,u]=m.useState(!1),[c,h]=m.useState(-1),f=m.useRef(null),[d,v]=m.useState({maxPapers:50,sources:["semantic_scholar","pubmed"],dateRange:{start:"",end:""},paperType:"research_paper"}),_=["Machine Learning in Healthcare","Climate Change Research","Artificial Intelligence Ethics","Quantum Computing Applications","Sustainable Energy Solutions","Blockchain Technology","Neural Networks in Medicine","Renewable Energy Systems","Cybersecurity Threats","Data Privacy Protection"],S=_.filter(w=>w.toLowerCase().includes(s.toLowerCase())&&s.length>0);m.useEffect(()=>{const w=p=>{f.current&&!f.current.contains(p.target)&&u(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const j=w=>{w.preventDefault(),s.trim()&&(t(s.trim(),d),u(!1))},g=(w,p)=>{v(k=>({...k,[w]:p}))},C=(w,p)=>{v(k=>({...k,dateRange:{...k.dateRange,[w]:p}}))},T=w=>{v(p=>({...p,sources:p.sources.includes(w)?p.sources.filter(k=>k!==w):[...p.sources,w]}))},N=w=>{r(w),u(!1),h(-1)},$=w=>{w.key==="ArrowDown"?(w.preventDefault(),h(p=>p<S.length-1?p+1:0)):w.key==="ArrowUp"?(w.preventDefault(),h(p=>p>0?p-1:S.length-1)):w.key==="Enter"&&c>=0&&(w.preventDefault(),N(S[c]))};return e.jsxs(i.div,{ref:f,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative w-full max-w-5xl mx-auto",children:[e.jsx("div",{className:"relative",children:e.jsxs(i.div,{className:"relative bg-gradient-to-br from-white via-blue-50 to-purple-50 rounded-2xl shadow-2xl border border-white/20 backdrop-blur-sm overflow-hidden",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:30},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-pink-600/10 animate-pulse"}),e.jsxs("form",{onSubmit:j,className:"relative p-8 space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(i.div,{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",animate:{rotate:a?360:0},transition:{duration:2,repeat:a?1/0:0},children:e.jsx(ye,{className:"h-6 w-6 text-blue-500"})}),e.jsx(i.input,{type:"text",value:s,onChange:w=>{r(w.target.value),u(!0)},onKeyDown:$,onFocus:()=>u(!0),placeholder:"Enter your research topic (e.g., 'Machine Learning in Healthcare')",className:"block w-full pl-14 pr-16 py-4 bg-white/80 backdrop-blur-sm border-2 border-transparent rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg font-medium placeholder-gray-500 transition-all duration-300",disabled:a,whileFocus:{scale:1.02}}),e.jsx(i.button,{type:"submit",disabled:a||!s.trim(),className:"absolute inset-y-0 right-0 pr-3 flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(i.div,{className:`px-6 py-2 rounded-xl text-sm font-semibold flex items-center space-x-2 transition-all duration-300 ${a||!s.trim()?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg hover:shadow-xl"}`,animate:a?{background:["linear-gradient(to right, #3b82f6, #8b5cf6)","linear-gradient(to right, #8b5cf6, #ec4899)","linear-gradient(to right, #ec4899, #3b82f6)"]}:{},transition:{duration:2,repeat:a?1/0:0},children:a?e.jsxs(e.Fragment,{children:[e.jsx(i.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(Ot,{className:"h-4 w-4"})}),e.jsx("span",{children:"Generating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"Generate"}),e.jsx(Le,{className:"h-4 w-4"})]})})})]}),e.jsx(U,{children:n&&S.length>0&&e.jsx(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200/50 backdrop-blur-sm z-50 max-h-60 overflow-y-auto",children:S.map((w,p)=>e.jsxs(i.button,{onClick:()=>N(w),className:`w-full px-4 py-3 text-left hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-200 flex items-center space-x-3 ${p===c?"bg-gradient-to-r from-blue-50 to-purple-50":""} ${p===S.length-1?"rounded-b-xl":""}`,whileHover:{x:4},children:[e.jsx(Q,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-gray-700",children:w})]},w))})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(i.button,{type:"button",onClick:()=>o(!l),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl hover:shadow-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsx("span",{children:"Advanced Filters"}),e.jsx(i.div,{animate:{rotate:l?180:0},transition:{duration:.3},children:e.jsx(Le,{className:"h-4 w-4"})})]}),e.jsxs(i.button,{type:"button",className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:shadow-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Lt,{className:"h-4 w-4"}),e.jsx("span",{children:"Settings"})]})]}),e.jsx(U,{children:l&&e.jsxs(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"border-t border-gray-200/50 pt-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Maximum Papers"}),e.jsxs("select",{value:d.maxPapers,onChange:w=>g("maxPapers",parseInt(w.target.value)),className:"w-full px-4 py-3 bg-white/80 backdrop-blur-sm border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300",children:[e.jsx("option",{value:25,children:"25 papers"}),e.jsx("option",{value:50,children:"50 papers"}),e.jsx("option",{value:100,children:"100 papers"}),e.jsx("option",{value:200,children:"200 papers"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Paper Type"}),e.jsxs("select",{value:d.paperType,onChange:w=>g("paperType",w.target.value),className:"w-full px-4 py-3 bg-white/80 backdrop-blur-sm border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300",children:[e.jsx("option",{value:"research_paper",children:"Research Paper"}),e.jsx("option",{value:"review_paper",children:"Review Paper"}),e.jsx("option",{value:"methodology_paper",children:"Methodology Paper"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Publication Date Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"date",value:d.dateRange.start,onChange:w=>C("start",w.target.value),className:"w-full px-4 py-3 bg-white/80 backdrop-blur-sm border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300",placeholder:"Start date"}),e.jsx("input",{type:"date",value:d.dateRange.end,onChange:w=>C("end",w.target.value),className:"w-full px-4 py-3 bg-white/80 backdrop-blur-sm border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300",placeholder:"End date"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Data Sources"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:[{id:"semantic_scholar",name:"Semantic Scholar",color:"from-blue-500 to-blue-600"},{id:"pubmed",name:"PubMed",color:"from-green-500 to-green-600"},{id:"openalex",name:"OpenAlex",color:"from-purple-500 to-purple-600"},{id:"crossref",name:"CrossRef",color:"from-orange-500 to-orange-600"},{id:"arxiv",name:"arXiv",color:"from-red-500 to-red-600"}].map(w=>e.jsxs(i.button,{type:"button",onClick:()=>T(w.id),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 flex items-center space-x-2 ${d.sources.includes(w.id)?`bg-gradient-to-r ${w.color} text-white shadow-lg`:"bg-white/80 text-gray-600 border-2 border-gray-200 hover:border-gray-300"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.sources.includes(w.id)?e.jsx(Mt,{className:"h-4 w-4"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{children:w.name})]},w.id))})]})]})})]})]})}),e.jsxs(i.div,{className:"mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-600 mb-3 flex items-center space-x-2",children:[e.jsx(Q,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{children:"Popular Research Topics"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_.slice(0,6).map((w,p)=>e.jsx(i.button,{onClick:()=>r(w),className:"px-4 py-2 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-full text-sm font-medium hover:from-blue-100 hover:to-purple-100 hover:text-blue-700 transition-all duration-300 border border-gray-200/50",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+p*.1},children:w},w))})]})]})},Ts=({summary:t,onPaperSelect:a})=>{var f;const[s,r]=m.useState(!1),[l,o]=m.useState(null),n=()=>{switch(t.type){case"individual":return e.jsx("div",{className:"space-y-4",children:Array.isArray(t.content)&&t.content.map((d,v)=>e.jsxs(i.div,{className:`relative p-6 rounded-2xl border-2 transition-all duration-300 cursor-pointer ${l===d.id?"border-blue-400 bg-gradient-to-br from-blue-50 to-purple-50 shadow-xl scale-105":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-lg"}`,onClick:()=>a==null?void 0:a(d),onMouseEnter:()=>o(d.id),onMouseLeave:()=>o(null),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},whileHover:{y:-5},children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(i.div,{className:`px-3 py-1 rounded-full text-xs font-bold ${d.relevance_score>.8?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":d.relevance_score>.6?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white":"bg-gradient-to-r from-red-500 to-pink-500 text-white"}`,whileHover:{scale:1.1},children:[(d.relevance_score*100).toFixed(0),"% relevant"]})}),e.jsxs("div",{className:"pr-20",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-3 line-clamp-2 leading-tight",children:d.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed",children:d.abstract}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[d.authors.length," authors"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:new Date(d.published_date).getFullYear()})]}),d.citations_count>0&&e.jsxs("div",{className:"flex items-center space-x-2 text-purple-600",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[d.citations_count," citations"]})]})]}),d.url&&e.jsxs(i.a,{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-3 py-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all duration-300",onClick:_=>_.stopPropagation(),whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(dt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"View"})]})]})]})]},d.id))});case"thematic":return e.jsx(i.div,{className:"prose max-w-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsx("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed text-lg bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-2xl border border-purple-200",children:typeof t.content=="string"?t.content:JSON.stringify(t.content)})});case"key_findings":return e.jsx("div",{className:"space-y-4",children:Array.isArray(t.content)&&t.content.map((d,v)=>e.jsx(i.div,{className:"relative p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl shadow-lg",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.1},whileHover:{scale:1.02},children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(i.div,{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-lg",whileHover:{rotate:360},transition:{duration:.5},children:v+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-800 font-semibold text-lg mb-2",children:d.finding}),d.papers&&e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Based on ",d.papers.length," paper",d.papers.length!==1?"s":""]}),d.confidence&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Confidence:"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3 shadow-inner",children:e.jsx(i.div,{className:"bg-gradient-to-r from-green-500 to-emerald-600 h-3 rounded-full shadow-sm",initial:{width:0},animate:{width:`${d.confidence*100}%`},transition:{duration:1,delay:v*.2}})}),e.jsxs("span",{className:"text-xs font-bold text-gray-700",children:[(d.confidence*100).toFixed(0),"%"]})]})})]})]})},v))});case"methodology":return e.jsx("div",{className:"space-y-6",children:typeof t.content=="object"&&t.content!==null&&Object.entries(t.content).map(([d,v],_)=>e.jsxs(i.div,{className:"border-2 border-orange-200 rounded-2xl p-6 bg-gradient-to-br from-orange-50 to-yellow-50 shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg",children:e.jsx(Ie,{className:"h-5 w-5 text-white"})}),e.jsxs("h5",{className:"font-bold text-gray-900 text-lg capitalize",children:[d.replace("_"," ")," (",Array.isArray(v)?v.length:0," papers)"]})]}),Array.isArray(v)&&v.slice(0,3).map((S,j)=>e.jsxs(i.div,{className:"text-sm text-gray-700 mb-2 pl-4 border-l-2 border-orange-300",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:_*.1+j*.05},children:["â€¢ ",S.title]},j)),Array.isArray(v)&&v.length>3&&e.jsxs("div",{className:"text-sm text-gray-500 mt-2 font-medium",children:["... and ",v.length-3," more papers"]})]},d))});default:return e.jsx(i.div,{className:"text-gray-700 p-6 bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl",initial:{opacity:0},animate:{opacity:1},children:typeof t.content=="string"?t.content:JSON.stringify(t.content)})}},u=()=>{switch(t.type){case"individual":return e.jsx(H,{className:"h-6 w-6"});case"thematic":return e.jsx(q,{className:"h-6 w-6"});case"key_findings":return e.jsx(ot,{className:"h-6 w-6"});case"methodology":return e.jsx(Ie,{className:"h-6 w-6"});default:return e.jsx(H,{className:"h-6 w-6"})}},c=()=>{switch(t.type){case"individual":return"from-blue-500 via-blue-600 to-purple-600";case"thematic":return"from-purple-500 via-purple-600 to-pink-600";case"key_findings":return"from-green-500 via-emerald-600 to-teal-600";case"methodology":return"from-orange-500 via-orange-600 to-red-600";default:return"from-gray-500 via-gray-600 to-blue-600"}},h=()=>{switch(t.type){case"individual":return"from-blue-50 via-blue-100 to-purple-50";case"thematic":return"from-purple-50 via-purple-100 to-pink-50";case"key_findings":return"from-green-50 via-emerald-100 to-teal-50";case"methodology":return"from-orange-50 via-orange-100 to-red-50";default:return"from-gray-50 via-gray-100 to-blue-50"}};return e.jsxs(i.div,{className:`relative rounded-2xl shadow-xl border-2 transition-all duration-300 bg-gradient-to-br ${h()}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${c()} opacity-10 rounded-t-2xl`}),e.jsxs(i.div,{className:"relative p-6 cursor-pointer",onClick:()=>r(!s),whileHover:{backgroundColor:"rgba(255, 255, 255, 0.1)"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(i.div,{className:`p-3 rounded-xl bg-gradient-to-r ${c()} text-white shadow-lg`,whileHover:{rotate:10},transition:{type:"spring",stiffness:300},children:u()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-xl mb-1",children:t.title}),t.metadata&&e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.metadata.paper_count&&e.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-semibold",children:[t.metadata.paper_count," papers"]})]}),t.metadata.average_relevance&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-semibold",children:[(t.metadata.average_relevance*100).toFixed(0),"% avg relevance"]})]})]})]})]}),e.jsx(i.button,{className:"flex-shrink-0 p-2 rounded-xl bg-white/80 backdrop-blur-sm shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(i.div,{animate:{rotate:s?180:0},transition:{duration:.3},children:s?e.jsx(nt,{className:"h-5 w-5 text-gray-600"}):e.jsx(Me,{className:"h-5 w-5 text-gray-600"})})})]}),((f=t.metadata)==null?void 0:f.key_themes)&&t.metadata.key_themes.length>0&&e.jsx(i.div,{className:"mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.metadata.key_themes.slice(0,4).map((d,v)=>e.jsx(i.span,{className:`px-3 py-1 bg-gradient-to-r ${c()} text-white text-xs font-semibold rounded-full shadow-md`,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.3+v*.1},whileHover:{scale:1.1},children:d},v)),t.metadata&&t.metadata.key_themes&&t.metadata.key_themes.length>4&&e.jsxs(i.span,{className:"px-3 py-1 bg-white/80 text-gray-600 text-xs font-semibold rounded-full shadow-md",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:["+",t.metadata.key_themes.length-4," more"]})]})})]})]}),e.jsx(U,{children:s&&e.jsx(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"px-6 pb-6 overflow-hidden",children:e.jsx("div",{className:"border-t border-white/50 pt-6",children:n()})})})]})},Ps=({paper:t,onEdit:a,onSave:s,onReorder:r,editable:l=!1})=>{const[o,n]=m.useState(null),[u,c]=m.useState(""),[h,f]=m.useState(!0),[d,v]=m.useState(null),[_,S]=m.useState("preview"),[j,g]=m.useState(null),[C,T]=m.useState(!1),[N,$]=m.useState(null),[w,p]=m.useState(!1),k=m.useRef(null),A=b=>{const y=t.sections[b];n(b),c((y==null?void 0:y.content)||"")},O=()=>{o&&a&&a(o,u),n(null),c(""),s&&s()},E=()=>{n(null),c("")},P=async(b,y)=>{try{await navigator.clipboard.writeText(b),v(y),setTimeout(()=>v(null),2e3)}catch(R){console.error("Failed to copy text: ",R)}},z=async b=>{var y;try{$(b),T(!1);const R={draft:t,references:[],summaries:{},analytics:{}},D=await fetch(`http://localhost:8000/download/${b}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({research_data:R,format:b})});if(!D.ok)throw new Error(`Download failed: ${D.statusText}`);const B=D.headers.get("Content-Disposition"),ie=B?(y=B.split("filename=")[1])==null?void 0:y.replace(/"/g,""):`${t.title.replace(/[^a-zA-Z0-9]/g,"_")}.${b}`,I=await D.blob(),ae=window.URL.createObjectURL(I),le=document.createElement("a");le.href=ae,le.download=ie,document.body.appendChild(le),le.click(),document.body.removeChild(le),window.URL.revokeObjectURL(ae)}catch(R){console.error("Download error:",R),alert(`Download failed: ${R.message}`)}finally{$(null)}},ee=()=>{window.print()},W=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),te=b=>({abstract:e.jsx(H,{className:"h-5 w-5"}),introduction:e.jsx(G,{className:"h-5 w-5"}),literature_review:e.jsx(q,{className:"h-5 w-5"}),methodology:e.jsx(Ie,{className:"h-5 w-5"}),results:e.jsx(Q,{className:"h-5 w-5"}),discussion:e.jsx(de,{className:"h-5 w-5"}),conclusion:e.jsx(pe,{className:"h-5 w-5"}),references:e.jsx(Bt,{className:"h-5 w-5"})})[b]||e.jsx(H,{className:"h-5 w-5"}),re=b=>({abstract:"from-blue-500 to-blue-600",introduction:"from-blue-500 to-blue-600",literature_review:"from-purple-500 to-purple-600",methodology:"from-orange-500 to-orange-600",results:"from-green-500 to-green-600",discussion:"from-pink-500 to-pink-600",conclusion:"from-teal-500 to-teal-600",references:"from-gray-500 to-gray-600"})[b]||"from-gray-500 to-gray-600",Pe=b=>({abstract:"from-blue-50 to-blue-100",introduction:"from-blue-50 to-blue-100",literature_review:"from-purple-50 to-purple-100",methodology:"from-orange-50 to-orange-100",results:"from-green-50 to-green-100",discussion:"from-pink-50 to-pink-100",conclusion:"from-teal-50 to-teal-100",references:"from-gray-50 to-gray-100"})[b]||"from-gray-50 to-gray-100",x=Object.entries(t.sections);return e.jsxs(i.div,{className:"max-w-5xl mx-auto bg-white shadow-2xl rounded-2xl overflow-hidden border border-gray-200/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/50 via-purple-600/50 to-pink-600/50 animate-pulse"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold mb-3 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-6 text-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:["Generated on ",W(t.metadata.generation_date)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:["Topic: ",t.metadata.topic]})]}),h&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[t.metadata.word_count.toLocaleString()," words"]})]})]})]}),e.jsxs(i.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsx(i.button,{onClick:()=>f(!h),className:"p-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:h?e.jsx(nt,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})}),e.jsxs(i.button,{onClick:()=>S(_==="edit"?"preview":"edit"),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[_==="edit"?e.jsx(Me,{className:"h-4 w-4"}):e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:_==="edit"?"Preview":"Edit"})]})]})]}),e.jsxs(i.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsxs(i.button,{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Download"})]}),e.jsxs(i.button,{onClick:ee,className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Print"})]}),e.jsxs(i.button,{className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Ht,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Share"})]})]})]})]}),e.jsxs("div",{ref:k,className:"p-8 space-y-8",children:[t.abstract&&e.jsxs(i.div,{className:"border-l-4 border-blue-500 pl-6 rounded-r-2xl bg-gradient-to-br from-blue-50 to-purple-50 p-6 shadow-lg",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg text-white",children:te("abstract")}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Abstract"})]}),l&&e.jsx("div",{className:"flex items-center space-x-2",children:o==="abstract"?e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:O,className:"p-2 text-green-600 hover:bg-green-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:E,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:"Ã—"})]}):e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:()=>A("abstract"),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Re,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:()=>P(t.abstract,"abstract"),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(he,{className:"h-4 w-4"})})]})})]}),e.jsx(U,{mode:"wait",children:o==="abstract"?e.jsx(i.textarea,{value:u,onChange:b=>c(b.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 font-medium",rows:6,placeholder:"Enter abstract...",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2}}):e.jsx(i.div,{className:"prose max-w-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:t.abstract})})}),d==="abstract"&&e.jsxs(i.div,{className:"mt-3 text-sm text-green-600 font-medium flex items-center space-x-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Copied to clipboard"})]})]}),x.map(([b,y],R)=>e.jsxs(i.div,{className:`relative border-2 rounded-2xl overflow-hidden transition-all duration-300 ${j===b?"border-blue-400 shadow-2xl scale-105":"border-gray-200 shadow-lg hover:shadow-xl"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+R*.1},onMouseEnter:()=>g(b),onMouseLeave:()=>g(null),whileHover:{y:-5},children:[e.jsxs("div",{className:`relative bg-gradient-to-r ${Pe(b)} p-6 border-b-2 border-gray-200`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${re(b)} opacity-5`}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(i.div,{className:`p-3 rounded-xl bg-gradient-to-r ${re(b)} text-white shadow-lg`,whileHover:{rotate:10},transition:{type:"spring",stiffness:300},children:te(b)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-500",children:[R+1,"."]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 capitalize",children:y.title})]}),y.word_count&&h&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(ve,{className:"h-3 w-3"}),e.jsxs("span",{className:"font-medium",children:[y.word_count," words"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[l&&_==="edit"&&r&&e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:()=>r(b,"up"),disabled:R===0,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white/50 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Dt,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:()=>r(b,"down"),disabled:R===x.length-1,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white/50 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Ft,{className:"h-4 w-4"})})]}),l&&e.jsx("div",{className:"flex items-center space-x-2",children:o===b?e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:O,className:"p-2 text-green-600 hover:bg-green-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:E,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:"Ã—"})]}):e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:()=>A(b),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Re,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:()=>P(y.content,b),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(he,{className:"h-4 w-4"})})]})})]})]})]}),e.jsxs("div",{className:"p-6 bg-white",children:[e.jsx(U,{mode:"wait",children:o===b?e.jsx(i.textarea,{value:u,onChange:L=>c(L.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 font-medium",rows:Math.max(6,Math.ceil(y.content.length/100)),placeholder:`Enter ${y.title.toLowerCase()} content...`,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2}}):e.jsx(i.div,{className:"prose max-w-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx("div",{className:"text-gray-700 leading-relaxed text-lg whitespace-pre-wrap",children:y.content})})}),d===b&&e.jsxs(i.div,{className:"mt-3 text-sm text-green-600 font-medium flex items-center space-x-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Copied to clipboard"})]})]})]},b))]}),e.jsx(i.div,{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-8 py-6 border-t border-gray-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Generated by MIT Research Paper Generator"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsxs("span",{children:["Last updated: ",W(t.metadata.generation_date)]})]})]})}),e.jsx(U,{children:w&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[200]",onClick:()=>p(!1),children:e.jsxs(i.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl border border-gray-200 p-6 max-w-md w-full mx-4",onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mx-auto mb-4",children:e.jsx(je,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Download Research Paper"}),e.jsx("p",{className:"text-gray-600",children:"Choose your preferred format"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(i.button,{onClick:()=>{z("txt"),p(!1)},disabled:N==="txt",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(H,{className:"h-6 w-6 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Plain Text"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Universal format (.txt)"})]}),N==="txt"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{z("markdown"),p(!1)},disabled:N==="markdown",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(mt,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Markdown"}),e.jsx("div",{className:"text-sm text-gray-600",children:"With clickable links (.md)"})]}),N==="markdown"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{z("json"),p(!1)},disabled:N==="json",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(q,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"JSON Data"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete data export (.json)"})]}),N==="json"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{z("bibtex"),p(!1)},disabled:N==="bibtex",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(G,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"BibTeX References"}),e.jsx("div",{className:"text-sm text-gray-600",children:"For LaTeX & reference managers (.bib)"})]}),N==="bibtex"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx(i.button,{onClick:()=>p(!1),className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"})})]})})})]})},Rs=({references:t,citationStyle:a,onStyleChange:s,onReferenceSelect:r,researchData:l})=>{const[o,n]=m.useState(""),[u,c]=m.useState("relevance"),[h,f]=m.useState(""),[d,v]=m.useState(!1),[_,S]=m.useState(null),[j,g]=m.useState(null),[C,T]=m.useState(new Set(["citations","bibliography"])),[N,$]=m.useState(null),[w,p]=m.useState(!1),k=m.useMemo(()=>{let x=t.filter(b=>{const y=b.title.toLowerCase().includes(o.toLowerCase())||b.authors.some(L=>L.toLowerCase().includes(o.toLowerCase()))||b.journal.toLowerCase().includes(o.toLowerCase()),R=!h||b.year===h;return y&&R});return x.sort((b,y)=>{switch(u){case"relevance":return y.relevance_score-b.relevance_score;case"year":return parseInt(y.year)-parseInt(b.year);case"citations":return y.citations_count-b.citations_count;case"alphabetical":return b.title.localeCompare(y.title);default:return 0}}),x},[t,o,u,h]),A=x=>{const b=new Set(C);b.has(x)?b.delete(x):b.add(x),T(b)},O=(x,b)=>{const y=x.authors,R=x.title,L=x.journal,D=x.year,B=x.volume,ie=x.issue,I=x.pages,ae=x.doi;switch(b){case"apa":let me=`${y.length===1?y[0]:y.length<=7?y.slice(0,-1).join(", ")+", & "+y.slice(-1):y.slice(0,6).join(", ")+", ... "+y.slice(-1)} (${D}). ${R}. `;return L&&(me+=L,B&&(me+=`, ${B}`),I&&(me+=`, ${I}`)),ae&&(me+=` https://doi.org/${ae}`),me;case"mla":let ue=`${y.length===1?y[0]:y.slice(0,-1).join(", ")+", and "+y.slice(-1)}. "${R}." `;return L&&(ue+=L,B&&(ue+=`, vol. ${B}`),I?ue+=`, ${D}, pp. ${I}`:ue+=`, ${D}`),ue;case"chicago":let ne=`${y.length===1?y[0]:y.slice(0,-1).join(", ")+", and "+y.slice(-1)}. "${R}." `;return L&&(ne+=L,B&&(ne+=` ${B}`),I?ne+=`, no. ${ie} (${D}): ${I}`:ne+=` (${D})`),ae&&(ne+=` https://doi.org/${ae}`),ne;case"ieee":let xe=`${y.length===1?y[0]:y.length<=6?y.join(", "):y.slice(0,3).join(", ")+" et al."}, "${R}," `;return L&&(xe+=L,B&&(xe+=`, vol. ${B}`),I&&(xe+=`, pp. ${I}`),xe+=`, ${D}`),xe;default:return`${y.join(", ")} (${D}). ${R}. ${L}`}},E=async(x,b)=>{try{await navigator.clipboard.writeText(x),g(b),setTimeout(()=>g(null),2e3)}catch(y){console.error("Failed to copy text: ",y)}},P=async x=>{var b;if(l)try{$(x);const R=await fetch(`http://localhost:8000/download/${x}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({research_data:l,format:x})});if(!R.ok)throw new Error(`Download failed: ${R.statusText}`);const L=R.headers.get("Content-Disposition"),D=L?(b=L.split("filename=")[1])==null?void 0:b.replace(/"/g,""):`research_paper.${x}`,B=await R.blob(),ie=window.URL.createObjectURL(B),I=document.createElement("a");I.href=ie,I.download=D,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(ie)}catch(y){console.error("Download error:",y),alert(`Download failed: ${y.message}`)}finally{$(null)}},z=async()=>{const b=k.map(y=>O(y,a)).join(`

`);try{await navigator.clipboard.writeText(b),g("all"),setTimeout(()=>g(null),2e3)}catch(y){console.error("Failed to copy citations: ",y)}},ee=()=>{const x=t.map(b=>parseInt(b.year)).filter(b=>!isNaN(b));return x.length===0?[]:Array.from({length:Math.max(...x)-Math.min(...x)+1},(b,y)=>Math.min(...x)+y)},W=x=>({apa:"from-blue-500 to-blue-600",mla:"from-green-500 to-green-600",chicago:"from-purple-500 to-purple-600",ieee:"from-orange-500 to-orange-600"})[x]||"from-gray-500 to-gray-600",te=x=>({apa:"from-blue-50 to-blue-100",mla:"from-green-50 to-green-100",chicago:"from-purple-50 to-purple-100",ieee:"from-orange-50 to-orange-100"})[x]||"from-gray-50 to-gray-100",re=x=>x>.8?"from-green-500 to-emerald-600":x>.6?"from-yellow-500 to-orange-500":"from-red-500 to-pink-500",Pe=()=>{const x={};return["apa","mla","chicago","ieee"].forEach(b=>{x[b]=k.map(y=>O(y,b))}),x};return e.jsxs(i.div,{className:"max-w-6xl mx-auto bg-white rounded-2xl shadow-2xl border border-gray-200/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-green-600 via-blue-600 to-purple-600 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/50 via-blue-600/50 to-purple-600/50 animate-pulse"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-blue-500 rounded-xl",children:e.jsx(G,{className:"h-6 w-6"})}),e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-green-100 bg-clip-text text-transparent",children:"References"})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-green-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[k.length," references found"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Multiple citation styles"})]})]})]}),e.jsxs(i.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsxs(i.button,{onClick:z,className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Copy All"})]}),e.jsxs(i.button,{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Download"})]})]})]}),e.jsxs(i.div,{className:"flex items-center space-x-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsx("span",{className:"text-sm font-semibold text-green-100",children:"Citation Style:"}),e.jsx("div",{className:"flex space-x-2",children:["apa","mla","chicago","ieee"].map(x=>e.jsx(i.button,{onClick:()=>s==null?void 0:s(x),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 ${a===x?`bg-gradient-to-r ${W(x)} text-white shadow-lg`:"bg-white/20 text-white hover:bg-white/30"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:x.toUpperCase()},x))})]}),e.jsxs(i.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Search references...",value:o,onChange:x=>n(x.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl focus:ring-4 focus:ring-white/20 focus:border-white placeholder-green-100 font-medium transition-all duration-300"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs(i.select,{value:u,onChange:x=>c(x.target.value),className:"px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white focus:ring-4 focus:ring-white/20 font-medium transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("option",{value:"relevance",className:"text-gray-900",children:"Sort by Relevance"}),e.jsx("option",{value:"year",className:"text-gray-900",children:"Sort by Year"}),e.jsx("option",{value:"citations",className:"text-gray-900",children:"Sort by Citations"}),e.jsx("option",{value:"alphabetical",className:"text-gray-900",children:"Sort Alphabetically"})]}),e.jsxs(i.button,{onClick:()=>v(!d),className:"flex items-center space-x-2 px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white hover:bg-white/30 transition-all duration-300 font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]})]}),e.jsx(U,{children:d&&e.jsx(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-4 bg-white/10 backdrop-blur-sm rounded-xl border border-white/20",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-green-100 mb-2",children:"Year"}),e.jsxs("select",{value:h,onChange:x=>f(x.target.value),className:"px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:ring-2 focus:ring-white/20 font-medium",children:[e.jsx("option",{value:"",className:"text-gray-900",children:"All years"}),ee().reverse().map(x=>e.jsx("option",{value:x.toString(),className:"text-gray-900",children:x},x))]})]})})})})]})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs(i.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(H,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Citation Styles"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(Pe()).map(([x,b],y)=>e.jsxs(i.div,{className:`border-2 rounded-2xl overflow-hidden shadow-lg bg-gradient-to-br ${te(x)}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+y*.1},whileHover:{scale:1.02},children:[e.jsxs(i.button,{onClick:()=>A(x),className:`w-full px-6 py-4 text-left rounded-t-2xl flex items-center justify-between bg-gradient-to-r ${W(x)} text-white`,whileHover:{backgroundColor:"rgba(255, 255, 255, 0.1)"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(H,{className:"h-5 w-5"})}),e.jsxs("span",{className:"font-bold text-lg capitalize",children:[x," Style (",b.length," citations)"]})]}),e.jsx(i.div,{animate:{rotate:C.has(x)?180:0},transition:{duration:.3},children:e.jsx(We,{className:"h-5 w-5"})})]}),e.jsx(U,{children:C.has(x)&&e.jsx(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-6 space-y-3 max-h-96 overflow-y-auto",children:b.map((R,L)=>e.jsxs(i.div,{className:"flex items-start justify-between p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-white/50 shadow-md",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:L*.05},whileHover:{scale:1.02},children:[e.jsx("span",{className:"text-sm text-gray-700 flex-1 font-medium leading-relaxed",children:R}),e.jsx(i.button,{onClick:()=>E(R,`${x}-${L}`),className:"ml-4 p-2 text-gray-500 hover:text-gray-700 hover:bg-white/50 rounded-lg transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(he,{className:"h-4 w-4"})})]},L))})})]},x))})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[e.jsxs(i.button,{onClick:()=>A("bibliography"),className:"w-full px-6 py-4 text-left bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 rounded-2xl mb-6 flex items-center justify-between border-2 border-green-200 shadow-lg transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg",children:e.jsx(G,{className:"h-5 w-5 text-white"})}),e.jsxs("span",{className:"font-bold text-green-900 text-lg",children:["Bibliography (",k.length," references)"]})]}),e.jsx(i.div,{animate:{rotate:C.has("bibliography")?180:0},transition:{duration:.3},children:e.jsx(We,{className:"h-5 w-5 text-green-600"})})]}),e.jsx(U,{children:C.has("bibliography")&&e.jsxs(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-4",children:[k.map((x,b)=>e.jsxs(i.div,{className:`border-2 rounded-2xl p-6 transition-all duration-300 cursor-pointer ${_===x.id?"border-blue-400 shadow-2xl scale-105 bg-gradient-to-br from-blue-50 to-purple-50":"border-gray-200 shadow-lg hover:shadow-xl bg-white"}`,onClick:()=>r==null?void 0:r(x),onMouseEnter:()=>S(x.id),onMouseLeave:()=>S(null),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.05},whileHover:{y:-5},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-500",children:["[",b+1,"]"]}),e.jsxs(i.div,{className:`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${re(x.relevance_score)} text-white shadow-md`,whileHover:{scale:1.1},children:[(x.relevance_score*100).toFixed(0),"% relevant"]}),x.citations_count>0&&e.jsxs(i.div,{className:"px-3 py-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs font-bold rounded-full shadow-md",whileHover:{scale:1.1},children:[x.citations_count," citations"]})]}),x.url?e.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"font-bold text-blue-600 hover:text-blue-800 text-lg mb-3 leading-tight block cursor-pointer transition-colors duration-200",onClick:y=>{y.stopPropagation(),console.log("Clicking title link:",x.url)},children:x.title}):e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-3 leading-tight",children:x.title}),e.jsxs("div",{className:"text-sm text-gray-600 mb-3 space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-4 w-4 text-blue-500"}),e.jsx("p",{className:"font-semibold",children:x.authors.join(", ")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-4 w-4 text-green-500"}),e.jsxs("p",{children:[x.journal," (",x.year,")"]})]}),(x.volume||x.issue||x.pages)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"h-4 w-4 text-purple-500"}),e.jsxs("p",{children:[x.volume&&e.jsxs("span",{children:["Volume ",x.volume]}),x.issue&&e.jsxs("span",{children:[", Issue ",x.issue]}),x.pages&&e.jsxs("span",{children:[", pp. ",x.pages]})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-blue-50 p-4 rounded-xl border-l-4 border-blue-500",children:[e.jsxs("strong",{className:"text-blue-600",children:[a.toUpperCase(),":"]}),e.jsx("span",{dangerouslySetInnerHTML:{__html:O(x,a).replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 underline cursor-pointer font-semibold bg-blue-50 px-1 py-0.5 rounded transition-all duration-200 hover:bg-blue-100">ðŸ”— $1</a>')}})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 ml-4 mt-2",children:[e.jsxs(i.button,{onClick:y=>{y.stopPropagation(),E(O(x,a),x.id)},className:"flex items-center space-x-1 px-3 py-2 bg-gray-50 text-gray-700 hover:bg-gray-100 hover:text-gray-800 rounded-xl transition-all duration-300 text-sm font-medium border border-gray-200 cursor-pointer shadow-sm hover:shadow-md",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Copy citation to clipboard",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Copy"})]}),x.url&&e.jsxs(i.a,{href:x.url,target:"_blank",rel:"noopener noreferrer",onClick:y=>{y.stopPropagation(),console.log("Clicking paper link:",x.url)},className:"flex items-center space-x-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 rounded-xl transition-all duration-300 text-sm font-bold cursor-pointer shadow-lg hover:shadow-xl transform hover:-translate-y-1 border-2 border-blue-500",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Click to view full paper",children:[e.jsx(dt,{className:"h-4 w-4"}),e.jsx("span",{children:"View Paper"})]}),x.doi&&e.jsxs(i.a,{href:`https://doi.org/${x.doi}`,target:"_blank",rel:"noopener noreferrer",onClick:y=>{y.stopPropagation(),console.log("Clicking DOI link:",`https://doi.org/${x.doi}`)},className:"flex items-center space-x-1 px-3 py-2 bg-purple-50 text-purple-700 hover:bg-purple-100 hover:text-purple-800 rounded-xl transition-all duration-300 text-sm font-medium border border-purple-200 cursor-pointer shadow-sm hover:shadow-md",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Click to view via DOI",children:[e.jsx(Ut,{className:"h-4 w-4"}),e.jsx("span",{children:"DOI"})]})]})]}),j===x.id&&e.jsxs(i.div,{className:"mt-3 text-sm text-green-600 font-medium flex items-center space-x-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Citation copied to clipboard!"})]})]},x.id)),k.length===0&&e.jsxs(i.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[e.jsx(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No references found"}),e.jsx("p",{className:"text-gray-600",children:o||h?"Try adjusting your search or filter criteria.":"No references available for this research session."})]})]})})]}),j==="all"&&e.jsxs(i.div,{className:"mt-6 text-sm text-green-600 font-medium flex items-center justify-center space-x-2 bg-green-50 p-4 rounded-xl",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"All citations copied to clipboard!"})]})]}),e.jsx(U,{children:w&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[200]",onClick:()=>p(!1),children:e.jsxs(i.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl border border-gray-200 p-6 max-w-md w-full mx-4",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mx-auto mb-4",children:e.jsx(je,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Download Research Paper"}),e.jsx("p",{className:"text-gray-600",children:"Choose your preferred format"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(i.button,{onClick:()=>{P("txt"),p(!1)},disabled:N==="txt",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(H,{className:"h-6 w-6 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Plain Text"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Universal format (.txt)"})]}),N==="txt"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{P("markdown"),p(!1)},disabled:N==="markdown",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(mt,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Markdown"}),e.jsx("div",{className:"text-sm text-gray-600",children:"With clickable links (.md)"})]}),N==="markdown"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{P("json"),p(!1)},disabled:N==="json",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(q,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"JSON Data"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete data export (.json)"})]}),N==="json"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{P("bibtex"),p(!1)},disabled:N==="bibtex",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(G,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"BibTeX References"}),e.jsx("div",{className:"text-sm text-gray-600",children:"For LaTeX & reference managers (.bib)"})]}),N==="bibtex"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx(i.button,{onClick:()=>p(!1),className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"})})]})})})]})},rt=({analytics:t,loading:a=!1,papers:s=[]})=>{const r={paper_metrics:{word_count:2500,...t==null?void 0:t.paper_metrics},content_analysis:{keywords:["research","analysis","methodology","findings","conclusions"],sentiment:{positive:.6,neutral:.3,negative:.1},...t==null?void 0:t.content_analysis},source_analysis:{total_sources:7,journal_diversity:5,...t==null?void 0:t.source_analysis},quality_indicators:{overall_quality_score:.75,content_completeness:.8,logical_flow:.7,evidence_strength:.6,academic_rigor:.8,...t==null?void 0:t.quality_indicators},trend_analysis:{publication_trends:{recent_activity:5},...t==null?void 0:t.trend_analysis},recommendations:(t==null?void 0:t.recommendations)||["Continue with current approach","Consider additional sources","Expand methodology section"]},[l,o]=m.useState("overview"),[n,u]=m.useState(null);if(!t||typeof t!="object")return e.jsx("div",{className:"max-w-7xl mx-auto p-8 text-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(se,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analytics Not Available"}),e.jsx("p",{className:"text-gray-600",children:"Analytics data could not be loaded. Please try generating a new paper."})]})});const c=({title:j,value:g,subtitle:C,icon:T,color:N,trend:$,metricId:w})=>{const p={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",pink:"from-pink-500 to-pink-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600"},k={blue:"from-blue-50 to-blue-100",green:"from-green-50 to-green-100",purple:"from-purple-50 to-purple-100",orange:"from-orange-50 to-orange-100",red:"from-red-50 to-red-100",pink:"from-pink-50 to-pink-100",teal:"from-teal-50 to-teal-100",indigo:"from-indigo-50 to-indigo-100"};return e.jsxs(i.div,{className:`relative bg-gradient-to-br ${k[N]} p-6 rounded-2xl shadow-lg border-2 border-white/50 transition-all duration-300 ${n===w?"scale-105 shadow-2xl":"hover:shadow-xl"}`,onMouseEnter:()=>u(w||null),onMouseLeave:()=>u(null),whileHover:{y:-5},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${p[N]} opacity-5 rounded-2xl`}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:j}),e.jsx(i.p,{className:"text-3xl font-bold text-gray-900",animate:{scale:n===w?1.05:1},children:g}),C&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:C}),$&&e.jsxs(i.div,{className:`flex items-center mt-2 text-sm font-medium ${$.isPositive?"text-green-600":"text-red-600"}`,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:[e.jsx(i.div,{animate:{rotate:$.isPositive?0:180},transition:{duration:.3},children:e.jsx(Q,{className:"h-4 w-4 mr-1"})}),e.jsxs("span",{children:[Math.abs($.value),"%"]})]})]}),e.jsx(i.div,{className:`p-4 rounded-xl bg-gradient-to-r ${p[N]} text-white shadow-lg`,whileHover:{rotate:10,scale:1.1},transition:{type:"spring",stiffness:300},children:T})]})]})},h=({label:j,value:g,max:C=1,color:T="blue",animated:N=!0})=>{const $=g/C*100,w={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",pink:"from-pink-500 to-pink-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600"};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:j}),e.jsxs("span",{className:"text-gray-500 font-medium",children:[Math.round($),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:e.jsx(i.div,{className:`h-3 rounded-full bg-gradient-to-r ${w[T]} shadow-sm`,initial:{width:0},animate:{width:N?`${Math.min($,100)}%`:`${Math.min($,100)}%`},transition:{duration:1,delay:.2}})})]})},f=({data:j,title:g})=>{const C=j.reduce((N,$)=>N+$.value,0);let T=0;return e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:g}),e.jsx("div",{className:"relative w-48 h-48 mx-auto mb-4",children:e.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:j.map((N,$)=>{const p=N.value/C*100/100*360,k=T,A=T+p,O=(k-90)*(Math.PI/180),E=(A-90)*(Math.PI/180),P=50+35*Math.cos(O),z=50+35*Math.sin(O),ee=50+35*Math.cos(E),W=50+35*Math.sin(E),te=p>180?1:0,re=["M 50 50",`L ${P} ${z}`,`A 35 35 0 ${te} 1 ${ee} ${W}`,"Z"].join(" ");return T+=p,e.jsx(i.path,{d:re,fill:N.color,initial:{opacity:0},animate:{opacity:1},transition:{delay:$*.1,duration:.5},whileHover:{scale:1.05},className:"cursor-pointer"},$)})})}),e.jsx("div",{className:"space-y-2",children:j.map((N,$)=>e.jsxs(i.div,{className:"flex items-center space-x-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:$*.1+.5},children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:N.color}}),e.jsx("span",{className:"text-sm text-gray-600",children:N.label}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 ml-auto",children:[Math.round(N.value/C*100),"%"]})]},$))})]})},d=()=>{var j,g,C,T;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs(i.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx(c,{title:"Word Count",value:r.paper_metrics.word_count.toLocaleString(),subtitle:"Total words in paper",icon:e.jsx(H,{className:"h-6 w-6"}),color:"blue",metricId:"word-count"}),e.jsx(c,{title:"Sources Used",value:r.source_analysis.total_sources||0,subtitle:`${r.source_analysis.journal_diversity||0} journals`,icon:e.jsx(oe,{className:"h-6 w-6"}),color:"green",metricId:"sources"}),e.jsx(c,{title:"Quality Score",value:`${Math.round((r.quality_indicators.overall_quality_score||0)*100)}%`,subtitle:"Overall quality assessment",icon:e.jsx(Ae,{className:"h-6 w-6"}),color:"purple",metricId:"quality"}),e.jsx(c,{title:"Citation Density",value:(((j=t==null?void 0:t.paper_metrics)==null?void 0:j.citation_density)||0).toFixed(1),subtitle:"Citations per 1000 words",icon:e.jsx(Oe,{className:"h-6 w-6"}),color:"orange",metricId:"citations"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(f,{data:[{label:"Positive",value:((g=r.content_analysis.sentiment)==null?void 0:g.positive)||.6,color:"#10B981"},{label:"Neutral",value:((C=r.content_analysis.sentiment)==null?void 0:C.neutral)||.3,color:"#3B82F6"},{label:"Negative",value:((T=r.content_analysis.sentiment)==null?void 0:T.negative)||.1,color:"#EF4444"}],title:"Sentiment Analysis"}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(ot,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{children:"Quality Indicators"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{label:"Content Completeness",value:r.quality_indicators.content_completeness,color:"blue"}),e.jsx(h,{label:"Logical Flow",value:r.quality_indicators.logical_flow,color:"green"}),e.jsx(h,{label:"Evidence Strength",value:r.quality_indicators.evidence_strength,color:"purple"}),e.jsx(h,{label:"Academic Rigor",value:r.quality_indicators.academic_rigor,color:"orange"})]})]})]}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(q,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{children:"Top Keywords"})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:(r.content_analysis.keywords||["research","analysis","methodology","findings","conclusions"]).slice(0,12).map((N,$)=>e.jsx(i.span,{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-sm font-semibold rounded-full shadow-md",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:$*.1+.6},whileHover:{scale:1.1,y:-2},children:N},$))})]})]})},v=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs(i.div,{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6},children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-8 flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl",children:e.jsx(Ae,{className:"h-6 w-6 text-white"})}),e.jsx("span",{children:"Detailed Quality Assessment"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(i.div,{className:"text-6xl font-bold text-gray-900 mb-2",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:[Math.round((r.quality_indicators.overall_quality_score||.75)*100),"%"]}),e.jsx("div",{className:"text-lg text-gray-600 font-medium",children:"Overall Quality Score"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{label:"Content Completeness",value:r.quality_indicators.content_completeness,color:"blue"}),e.jsx(h,{label:"Logical Flow",value:r.quality_indicators.logical_flow,color:"green"}),e.jsx(h,{label:"Evidence Strength",value:r.quality_indicators.evidence_strength,color:"purple"}),e.jsx(h,{label:"Academic Rigor",value:r.quality_indicators.academic_rigor,color:"orange"}),e.jsx(h,{label:"Citation Quality",value:r.quality_indicators.citation_quality,color:"red"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:"Quality Breakdown"}),e.jsx("div",{className:"space-y-4",children:[{label:"Content Completeness",value:r.quality_indicators.content_completeness},{label:"Logical Flow",value:r.quality_indicators.logical_flow},{label:"Evidence Strength",value:r.quality_indicators.evidence_strength},{label:"Academic Rigor",value:r.quality_indicators.academic_rigor},{label:"Citation Quality",value:r.quality_indicators.citation_quality}].map((j,g)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-gray-50 rounded-xl",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:g*.1+.4},children:[e.jsx("span",{className:"font-medium text-gray-700",children:j.label}),e.jsxs("span",{className:"font-bold text-gray-900",children:[Math.round(j.value*100),"%"]})]},g))})]})]})]}),t.recommendations&&t.recommendations.length>0&&e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(de,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{children:"Recommendations"})]}),e.jsx("div",{className:"space-y-4",children:t.recommendations.map((j,g)=>e.jsxs(i.div,{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1+.8},whileHover:{scale:1.02},children:[e.jsx(i.div,{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-lg",whileHover:{rotate:360},transition:{duration:.5},children:g+1}),e.jsx("p",{className:"text-gray-700 font-medium leading-relaxed",children:j})]},g))})]})]}),_=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(c,{title:"Total Sources",value:r.source_analysis.total_sources,subtitle:"Research papers analyzed",icon:e.jsx(H,{className:"h-6 w-6"}),color:"blue"}),e.jsx(c,{title:"Journal Diversity",value:r.source_analysis.journal_diversity,subtitle:"Unique journals",icon:e.jsx(oe,{className:"h-6 w-6"}),color:"green"}),e.jsx(c,{title:"Author Diversity",value:r.source_analysis.author_diversity,subtitle:"Unique authors",icon:e.jsx(oe,{className:"h-6 w-6"}),color:"purple"}),e.jsx(c,{title:"Total Citations",value:r.source_analysis.citation_impact.total_citations.toLocaleString(),subtitle:"Across all sources",icon:e.jsx(Oe,{className:"h-6 w-6"}),color:"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(ct,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Publication Timeline"})]}),e.jsx("div",{className:"space-y-4",children:[{label:"Earliest Publication",value:r.source_analysis.publication_years.earliest},{label:"Latest Publication",value:r.source_analysis.publication_years.latest},{label:"Average Year",value:Math.round(r.source_analysis.publication_years.average)},{label:"Recent Activity",value:`${r.trend_analysis.publication_trends.recent_activity} papers (2020+)`}].map((j,g)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-blue-50 rounded-xl",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:g*.1+.2},children:[e.jsx("span",{className:"font-medium text-gray-700",children:j.label}),e.jsx("span",{className:"font-bold text-blue-600",children:j.value})]},g))})]}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(Q,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"Citation Impact"})]}),e.jsx("div",{className:"space-y-4",children:[{label:"Average Citations",value:Math.round(r.source_analysis.citation_impact.average_citations)},{label:"Median Citations",value:r.source_analysis.citation_impact.median_citations},{label:"Max Citations",value:r.source_analysis.citation_impact.max_citations},{label:"High Relevance Sources",value:r.source_analysis.relevance_analysis.high_relevance_count}].map((j,g)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-green-50 rounded-xl",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:g*.1+.4},children:[e.jsx("span",{className:"font-medium text-gray-700",children:j.label}),e.jsx("span",{className:"font-bold text-green-600",children:j.value})]},g))})]})]}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(Oe,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{children:"Relevance Analysis"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{label:"Average Relevance",value:r.source_analysis.relevance_analysis.average_relevance,color:"blue"}),e.jsx(h,{label:"Median Relevance",value:r.source_analysis.relevance_analysis.median_relevance,color:"green"}),e.jsxs("div",{className:"text-sm text-gray-600 bg-purple-50 p-4 rounded-xl",children:[e.jsx("strong",{children:r.source_analysis.relevance_analysis.high_relevance_count})," out of"," ",e.jsx("strong",{children:r.source_analysis.total_sources})," sources have high relevance (",">","70%)"]})]})]})]}),S=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(zt,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Publication Trends"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(i.div,{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",whileHover:{scale:1.02},children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Growth Rate"}),e.jsxs("span",{className:`font-bold text-lg ${r.trend_analysis.publication_trends.growth_rate>=0?"text-green-600":"text-red-600"}`,children:[r.trend_analysis.publication_trends.growth_rate>=0?"+":"",(r.trend_analysis.publication_trends.growth_rate*100).toFixed(1),"%"]})]}),e.jsxs(i.div,{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-teal-50 rounded-xl",whileHover:{scale:1.02},children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Recent Activity (2020+)"}),e.jsxs("span",{className:"font-bold text-lg text-green-600",children:[r.trend_analysis.publication_trends.recent_activity," papers"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(q,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{children:"Methodological Trends"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(r.trend_analysis.methodological_trends).map(([j,g],C)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-orange-50 rounded-xl",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:C*.1+.4},whileHover:{scale:1.02},children:[e.jsx("span",{className:"font-medium text-gray-700 capitalize",children:j}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-3",children:e.jsx(i.div,{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-3 rounded-full",initial:{width:0},animate:{width:`${g/Math.max(...Object.values(r.trend_analysis.methodological_trends))*100}%`},transition:{duration:1,delay:C*.1+.6}})}),e.jsx("span",{className:"font-bold text-orange-600",children:g})]})]},j))})]}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(Gt,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{children:"Top Topics"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(r.trend_analysis.topic_trends).slice(0,5).map(([j,g],C)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-purple-50 rounded-xl",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:C*.1+.6},whileHover:{scale:1.02},children:[e.jsx("span",{className:"font-medium text-gray-700",children:j}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-3",children:e.jsx(i.div,{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-3 rounded-full",initial:{width:0},animate:{width:`${g/Math.max(...Object.values(r.trend_analysis.topic_trends))*100}%`},transition:{duration:1,delay:C*.1+.8}})}),e.jsx("span",{className:"font-bold text-purple-600",children:g})]})]},j))})]})]})]});return a?e.jsx("div",{className:"max-w-7xl mx-auto p-8",children:e.jsxs(i.div,{className:"animate-pulse",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"h-12 bg-gradient-to-r from-gray-200 to-gray-300 rounded-xl w-1/3 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((j,g)=>e.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-gray-300 h-32 rounded-2xl"},g))}),e.jsx("div",{className:"bg-gradient-to-r from-gray-200 to-gray-300 h-96 rounded-2xl"})]})}):e.jsxs(i.div,{className:"max-w-7xl mx-auto p-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[e.jsx("div",{className:"mb-8",children:e.jsxs(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Comprehensive analysis of your research paper generation"})]})}),e.jsx(i.div,{className:"border-b-2 border-gray-200 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:e.jsx(se,{className:"h-5 w-5"})},{id:"quality",label:"Quality",icon:e.jsx(Ae,{className:"h-5 w-5"})},{id:"sources",label:"Sources",icon:e.jsx(oe,{className:"h-5 w-5"})},{id:"trends",label:"Trends",icon:e.jsx(Q,{className:"h-5 w-5"})}].map((j,g)=>e.jsxs(i.button,{onClick:()=>o(j.id),className:`flex items-center space-x-3 py-3 px-4 border-b-2 font-semibold text-lg transition-all duration-300 ${l===j.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1+.3},whileHover:{y:-2},children:[j.icon,e.jsx("span",{children:j.label})]},j.id))})}),e.jsx(U,{mode:"wait",children:e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[l==="overview"&&d(),l==="quality"&&v(),l==="sources"&&_(),l==="trends"&&S()]},l)})]})},As={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8000",VITE_API_BASE_URL:"http://localhost:8000"},Os=()=>{const[t,a]=m.useState("search"),[s,r]=m.useState(null),[l,o]=m.useState(!1),[n,u]=m.useState(null),[c,h]=m.useState("papers"),f=async(p,k)=>{o(!0),u(null),a("results");try{const A="http://localhost:8000";console.log("Using API Base URL:",A),console.log("Environment vars:",As);const O=await fetch(`${A}/research-pipeline`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:p,max_papers:k.maxPapers,sources:k.sources,paper_length:k.paperType==="short"?"short":k.paperType==="long"?"long":"medium",citation_style:"apa"})});if(!O.ok)throw new Error("Failed to generate research paper");const E=await O.json();if(console.log("Backend response:",E),E.status==="error")throw new Error(E.error||"Pipeline execution failed");const P={topic:E.query,papers:E.papers||[],summaries:E.summaries||{},citations:E.citations||{},draft_paper:E.draft_paper||E.draft||null,references:E.references||E.papers||[],analytics:E.analytics||null,status:E.status||"completed",processing_time:E.processing_time};console.log("Normalized data:",P),r(P),a("results"),h("papers")}catch{const O=new Date().toISOString(),E=[{id:"p1",title:`${p} - A Comprehensive Overview`,authors:["Alice Smith","Bob Johnson"],abstract:`This paper explores ${p} with a focus on recent advancements and applications.`,published_date:"2023-06-01",journal:"Journal of Research",url:"https://example.com/paper1",relevance_score:.85,citations_count:42,year:2023}],P={thematic_summary:`Key themes in ${p} include methodology, applications, and future directions.`,key_findings:[{finding:`Significant progress in ${p} since 2020`,papers:E,confidence:.8}],methodology_summary:{experimental:E,computational:E},individual_summaries:[{paper_id:"p1",title:E[0].title,summary:E[0].abstract,key_points:[],relevance_score:.85}],gaps_and_opportunities:["Need for larger datasets","Standardized benchmarks"]},z={title:`${p}: A Mock Generated Paper`,abstract:`This mock abstract summarizes ${p} and references findings [1].`,sections:{introduction:`Introduction to ${p}.`,literature_review:`A review of ${p} literature.`,discussion:`Discussion on ${p}.`,conclusion:`Conclusions about ${p}.`},metadata:{topic:p,word_count:1200,generation_date:O}},ee=[{id:"r1",title:`${p} Study`,authors:["Alice Smith","Bob Johnson"],journal:"Journal of Research",year:"2023",relevance_score:.9,citations_count:42,url:"https://example.com/paper1"}],W={paper_metrics:{word_count:1200,section_count:4,abstract_length:25,average_section_length:300,readability_score:.6,citation_density:12},content_analysis:{keywords:[p.split(" ")[0]||"topic","analysis","methodology"],topics:["Applications","Trends"],sentiment:{positive:.6,negative:.1,neutral:.3},coherence_score:.8,academic_tone_score:.7},source_analysis:{total_sources:1,publication_years:{earliest:2023,latest:2023,average:2023,median:2023},journal_diversity:1,author_diversity:2,citation_impact:{total_citations:42,average_citations:42,median_citations:42,max_citations:42},relevance_analysis:{average_relevance:.85,median_relevance:.85,high_relevance_count:1}},trend_analysis:{publication_trends:{year_distribution:{2023:1},growth_rate:0,recent_activity:1},methodological_trends:{experimental:1,computational:1},topic_trends:{[p.split(" ")[0]||"topic"]:1}},recommendations:["Increase citation density","Add methodology details"]};r({topic:p,papers:E,summaries:P,citations:{},draft_paper:z,references:ee,analytics:W,status:"completed"}),a("paper")}finally{o(!1)}},d=p=>{},v=()=>{const p=[{id:"search",label:"Search",icon:e.jsx(ye,{className:"h-4 w-4"})},{id:"results",label:"Analysis",icon:e.jsx(q,{className:"h-4 w-4"})},{id:"paper",label:"Generate",icon:e.jsx(H,{className:"h-4 w-4"})},{id:"analytics",label:"Insights",icon:e.jsx(se,{className:"h-4 w-4"})}];return e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-6xl mx-auto mb-12",children:e.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/30 via-purple-500/20 to-pink-400/30 backdrop-blur-3xl"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-transparent animate-pulse"}),e.jsxs("div",{className:"absolute inset-0 opacity-40",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gradient-radial from-blue-400/40 to-transparent rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-gradient-radial from-purple-500/30 to-transparent rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-radial from-pink-400/20 to-transparent rounded-full blur-2xl animate-pulse delay-500"})]}),e.jsx("div",{className:"relative flex items-center justify-between z-10",children:p.map((k,A)=>e.jsxs(it.Fragment,{children:[e.jsxs(i.div,{className:"flex items-center space-x-3 relative z-10",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:A*.1},children:[e.jsx(i.div,{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 shadow-lg ${t===k.id||s&&t!=="search"?"border-gradient-to-r from-blue-500 to-purple-600 bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-blue-500/25":"border-gray-300 bg-white text-gray-500 hover:border-gray-400"}`,whileHover:{scale:1.1},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:l&&t===k.id?e.jsx(qt,{className:"h-5 w-5 animate-spin"}):k.icon}),e.jsx("span",{className:`text-sm font-semibold ${t===k.id||s&&t!=="search"?"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600":"text-gray-500"}`,children:k.label})]}),A<p.length-1&&e.jsx("div",{className:"flex-1 mx-6"})]},k.id))})]})})},_=()=>e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"space-y-12",children:[e.jsxs(i.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-6 shadow-2xl shadow-blue-500/25",children:e.jsx(de,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 via-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"MIT Research Paper Generator"}),e.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:["Generate comprehensive research papers with AI-powered analysis, automatic citation management, and quality assessment. Transform your research ideas into",e.jsx("span",{className:"font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:" publication-ready papers"})," in minutes."]})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:e.jsx(Es,{onSearch:f,loading:l})}),e.jsx(U,{children:n&&e.jsx(i.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"h-6 w-6 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Generation Error"}),e.jsx("div",{className:"mt-2 text-red-700",children:n}),e.jsx("button",{onClick:()=>u(null),className:"mt-3 text-sm text-red-600 hover:text-red-800 font-medium",children:"Dismiss"})]})]})})})}),e.jsxs(i.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-4",children:"Powerful Features"}),e.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Everything you need to transform research ideas into publication-ready papers"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:e.jsx(ye,{className:"h-8 w-8"}),title:"Smart Search",description:"Search across multiple academic databases including arXiv, PubMed, and Google Scholar to find the most relevant papers.",gradient:"from-blue-500 to-cyan-500",bgGradient:"from-blue-50 to-cyan-50"},{icon:e.jsx(q,{className:"h-8 w-8"}),title:"AI-Powered Analysis",description:"Advanced AI algorithms analyze papers, extract key findings, and generate comprehensive summaries.",gradient:"from-green-500 to-emerald-500",bgGradient:"from-green-50 to-emerald-50"},{icon:e.jsx(H,{className:"h-8 w-8"}),title:"Paper Generation",description:"Generate well-structured research papers with proper citations, methodology, and academic formatting.",gradient:"from-purple-500 to-violet-500",bgGradient:"from-purple-50 to-violet-50"},{icon:e.jsx(se,{className:"h-8 w-8"}),title:"Quality Analytics",description:"Comprehensive analytics and quality assessment to ensure your paper meets academic standards.",gradient:"from-orange-500 to-red-500",bgGradient:"from-orange-50 to-red-50"},{icon:e.jsx(G,{className:"h-8 w-8"}),title:"Citation Management",description:"Automatic citation formatting in multiple styles (APA, MLA, Chicago, IEEE) with proper reference management.",gradient:"from-pink-500 to-rose-500",bgGradient:"from-pink-50 to-rose-50"},{icon:e.jsx(Q,{className:"h-8 w-8"}),title:"Trend Analysis",description:"Analyze research trends, identify gaps, and discover emerging topics in your field of study.",gradient:"from-indigo-500 to-blue-500",bgGradient:"from-indigo-50 to-blue-50"}].map((p,k)=>e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8+k*.1},className:"group relative",children:e.jsxs("div",{className:`bg-gradient-to-br ${p.bgGradient} p-8 rounded-2xl shadow-lg border border-white/20 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2`,children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:`p-3 bg-gradient-to-r ${p.gradient} rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e.jsx("div",{className:"text-white",children:p.icon})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-gray-900 group-hover:to-gray-600 transition-all duration-300",children:p.title})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:p.description}),e.jsxs("div",{className:"mt-6 flex items-center text-sm font-medium text-gray-500 group-hover:text-gray-700 transition-colors duration-300",children:[e.jsx("span",{children:"Learn more"}),e.jsx(Le,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})]})},p.title))})]})]}),S=()=>{var k,A,O,E;if(!s)return null;const p=[{id:"papers",label:"Papers",icon:e.jsx(H,{className:"h-4 w-4"}),count:((k=s.papers)==null?void 0:k.length)||0},{id:"summaries",label:"Summaries",icon:e.jsx(q,{className:"h-4 w-4"}),count:Object.keys(s.summaries||{}).length},{id:"draft",label:"Draft",icon:e.jsx(Vt,{className:"h-4 w-4"}),count:s.draft_paper?1:0},{id:"references",label:"References",icon:e.jsx(G,{className:"h-4 w-4"}),count:((A=s.references)==null?void 0:A.length)||0},{id:"analytics",label:"Analytics",icon:e.jsx(se,{className:"h-4 w-4"}),count:s.analytics?1:0}];return e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:['Research Results for "',s.topic,'"']}),e.jsxs("p",{className:"text-gray-600",children:["Pipeline completed in ",(O=s.processing_time)==null?void 0:O.toFixed(2),"s â€¢ Found ",((E=s.papers)==null?void 0:E.length)||0," papers"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-gray-100 p-1 rounded-lg inline-flex space-x-1",children:p.map(P=>e.jsxs("button",{onClick:()=>h(P.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${c===P.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[P.icon,e.jsx("span",{children:P.label}),P.count>0&&e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${c===P.id?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-600"}`,children:P.count})]},P.id))})}),e.jsxs("div",{className:"min-h-[600px]",children:[c==="papers"&&j(),c==="summaries"&&g(),c==="draft"&&C(),c==="references"&&T(),c==="analytics"&&N()]})]})},j=()=>s!=null&&s.papers?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Retrieved Papers"}),e.jsx("div",{className:"grid gap-4",children:s.papers.map((p,k)=>{var A;return e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.1},className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:p.title}),e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full ml-2",children:p.source})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[e.jsx("span",{children:((A=p.authors)==null?void 0:A.join(", "))||"Unknown authors"}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:p.year}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[p.citation_count," citations"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Relevance: ",(p.relevance_score*100).toFixed(1),"%"]})]}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed mb-4 line-clamp-3",children:p.abstract||"No abstract available"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2",children:[p.doi&&e.jsx("a",{href:`https://doi.org/${p.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View DOI"}),p.url&&e.jsx("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Paper"})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["#",k+1]})]})]},k)})})]}):null,g=()=>s!=null&&s.summaries?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Research Summaries"}),Object.entries(s.summaries).map(([p,k])=>{var A,O,E;return e.jsx(Ts,{summary:{type:p,title:p.replace("_"," ").replace(/\b\w/g,P=>P.toUpperCase()),content:k,metadata:{paper_count:((A=s.papers)==null?void 0:A.length)||0,average_relevance:((O=s.papers)==null?void 0:O.reduce((P,z)=>P+(z.relevance_score||0),0))/(((E=s.papers)==null?void 0:E.length)||1)||0}},onPaperSelect:d},p)})]}):null,C=()=>s!=null&&s.draft_paper?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Generated Paper Draft"}),e.jsx(Ps,{paper:s.draft_paper,editable:!0})]}):null,T=()=>!(s!=null&&s.references)||s.references.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",children:[e.jsx(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No References Available"}),e.jsx("p",{className:"text-gray-600",children:"References will appear here once papers are analyzed."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"References & Citations"}),e.jsx(Rs,{references:s.references,citationStyle:"apa",onReferenceSelect:d,researchData:s})]}),N=()=>s!=null&&s.analytics?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Research Analytics"}),e.jsx(rt,{analytics:s.analytics,papers:s.papers})]}):null,$=()=>s!=null&&s.draft_paper?e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Generated Paper"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Your AI-generated research paper is ready"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(i.button,{onClick:()=>a("analytics"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:"View Analytics"})]})}),e.jsx(i.button,{onClick:()=>a("results"),className:"px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Analysis"})]})})]})]}),S()]}):null,w=()=>s!=null&&s.analytics?e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive insights into your research"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx(i.button,{onClick:()=>a("paper"),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Paper"})]})})})]}),e.jsx(rt,{analytics:s.analytics})]}):e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center py-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",children:[e.jsx(se,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analytics Available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Analytics data is not available for this research session."}),e.jsx("button",{onClick:()=>a("paper"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Paper"})]})});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v(),e.jsxs(U,{mode:"wait",children:[t==="search"&&e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.5},children:_()},"search"),t==="results"&&e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.5},children:S()},"results"),t==="paper"&&e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.5},children:$()},"paper"),t==="analytics"&&e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.5},children:w()},"analytics")]})]})})};function Ls(){return e.jsx(Fa,{children:e.jsxs("div",{className:"App min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"MIT"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Research Paper Generator"})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[e.jsx("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Features"}),e.jsx("a",{href:"#about",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"About"}),e.jsx("a",{href:"#contact",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Contact"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-600 hidden sm:block",children:"System Online"})]})]})]})})}),e.jsx("main",{className:"relative",children:e.jsx(Ia,{children:e.jsx(Nt,{path:"/",element:e.jsx(Os,{})})})}),e.jsx("footer",{className:"bg-white/80 backdrop-blur-md border-t border-gray-200/50 mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"MIT"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Research Paper Generator"})]}),e.jsx("p",{className:"text-gray-600 max-w-md",children:"Transform your research ideas into publication-ready papers with AI-powered analysis, automatic citation management, and comprehensive quality assessment."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Features"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsx("li",{children:"Smart Search"}),e.jsx("li",{children:"AI Analysis"}),e.jsx("li",{children:"Paper Generation"}),e.jsx("li",{children:"Citation Management"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Resources"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsx("li",{children:"Documentation"}),e.jsx("li",{children:"API Reference"}),e.jsx("li",{children:"Support"}),e.jsx("li",{children:"Community"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 mt-8 pt-8 flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Â© 2024 MIT Research Paper Generator. All rights reserved."}),e.jsxs("div",{className:"flex space-x-6 mt-4 sm:mt-0",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-600 transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-600 transition-colors",children:"Terms of Service"})]})]})]})}),e.jsx($s,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})}const Pt=document.createElement("style");Pt.textContent=`
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: #f1f5f9;
  }
  
  ::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #3b82f6, #8b5cf6);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #2563eb, #7c3aed);
  }

  /* Enhanced focus styles */
  *:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Smooth transitions for all interactive elements */
  button, a, input, textarea, select {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Custom gradient text animation */
  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-shift 3s ease infinite;
  }

  /* Enhanced backdrop blur support */
  @supports (backdrop-filter: blur(10px)) {
    .backdrop-blur-enhanced {
      backdrop-filter: blur(10px) saturate(180%);
    }
  }

  /* Custom loading animation */
  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  .shimmer {
    position: relative;
    overflow: hidden;
  }

  .shimmer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: shimmer 1.5s infinite;
  }

  /* Glassmorphism effect */
  .glass {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.18);
  }

  /* Enhanced shadows */
  .shadow-premium {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  .shadow-glow {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
  }

  /* Custom selection */
  ::selection {
    background: rgba(59, 130, 246, 0.2);
    color: #1e40af;
  }

  /* Print styles */
  @media print {
    .no-print {
      display: none !important;
    }
    
    body {
      background: white !important;
    }
  }
`;document.head.appendChild(Pt);He.createRoot(document.getElementById("root")).render(e.jsx(it.StrictMode,{children:e.jsx(Ls,{})}));
//# sourceMappingURL=index-BF7au552.js.map
