import{r as u,a as Rt,b as At,R as it}from"./vendor-BStAX1aO.js";import{m as i,S as ye,Z as Ot,a as ce,A as Le,b as U,T as Q,F as lt,c as Lt,C as Mt,d as H,E as nt,e as Me,f as Ie,g as ot,B as q,U as ne,h as ct,i as dt,j as qe,k as G,H as ve,P as Re,D as je,l as It,n as Ht,o as Ve,p as xe,q as he,r as Dt,s as Ft,t as mt,u as Bt,v as We,G as Ut,w as se,x as Ae,y as Oe,L as zt,z as Gt,I as qt,J as Vt}from"./ui-BxmPmzUG.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();var ut={exports:{}},Ce={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=u,Jt=Symbol.for("react.element"),Qt=Symbol.for("react.fragment"),Yt=Object.prototype.hasOwnProperty,Xt=Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zt={key:!0,ref:!0,__self:!0,__source:!0};function xt(t,s,a){var r,o={},n=null,l=null;a!==void 0&&(n=""+a),s.key!==void 0&&(n=""+s.key),s.ref!==void 0&&(l=s.ref);for(r in s)Yt.call(s,r)&&!Zt.hasOwnProperty(r)&&(o[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:Jt,type:t,key:n,ref:l,props:o,_owner:Xt.current}}Ce.Fragment=Qt;Ce.jsx=xt;Ce.jsxs=xt;ut.exports=Ce;var e=ut.exports,He={},Je=Rt;He.createRoot=Je.createRoot,He.hydrateRoot=Je.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},we.apply(this,arguments)}var Z;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Z||(Z={}));const Qe="popstate";function Kt(t){t===void 0&&(t={});function s(r,o){let{pathname:n,search:l,hash:m}=r.location;return De("",{pathname:n,search:l,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(r,o){return typeof o=="string"?o:pt(o)}return ta(s,a,null,t)}function F(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function ht(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function ea(){return Math.random().toString(36).substr(2,8)}function Ye(t,s){return{usr:t.state,key:t.key,idx:s}}function De(t,s,a,r){return a===void 0&&(a=null),we({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?ke(s):s,{state:a,key:s&&s.key||r||ea()})}function pt(t){let{pathname:s="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function ke(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function ta(t,s,a,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:n=!1}=r,l=o.history,m=Z.Pop,c=null,p=b();p==null&&(p=0,l.replaceState(we({},l.state,{idx:p}),""));function b(){return(l.state||{idx:null}).idx}function d(){m=Z.Pop;let y=b(),k=y==null?null:y-p;p=y,c&&c({action:m,location:w.location,delta:k})}function j(y,k){m=Z.Push;let S=De(w.location,y,k);p=b()+1;let _=Ye(S,p),R=w.createHref(S);try{l.pushState(_,"",R)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(R)}n&&c&&c({action:m,location:w.location,delta:1})}function C(y,k){m=Z.Replace;let S=De(w.location,y,k);p=b();let _=Ye(S,p),R=w.createHref(S);l.replaceState(_,"",R),n&&c&&c({action:m,location:w.location,delta:0})}function f(y){let k=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof y=="string"?y:pt(y);return S=S.replace(/ $/,"%20"),F(k,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,k)}let w={get action(){return m},get location(){return t(o,l)},listen(y){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Qe,d),c=y,()=>{o.removeEventListener(Qe,d),c=null}},createHref(y){return s(o,y)},createURL:f,encodeLocation(y){let k=f(y);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:j,replace:C,go(y){return l.go(y)}};return w}var Xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xe||(Xe={}));function aa(t,s,a){return a===void 0&&(a="/"),sa(t,s,a)}function sa(t,s,a,r){let o=typeof s=="string"?ke(s):s,n=ft(o.pathname||"/",a);if(n==null)return null;let l=gt(t);ra(l);let m=null;for(let c=0;m==null&&c<l.length;++c){let p=ga(n);m=xa(l[c],p)}return m}function gt(t,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let o=(n,l,m)=>{let c={relativePath:m===void 0?n.path||"":m,caseSensitive:n.caseSensitive===!0,childrenIndex:l,route:n};c.relativePath.startsWith("/")&&(F(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let p=oe([r,c.relativePath]),b=a.concat(c);n.children&&n.children.length>0&&(F(n.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),gt(n.children,s,b,p)),!(n.path==null&&!n.index)&&s.push({path:p,score:ma(p,n.index),routesMeta:b})};return t.forEach((n,l)=>{var m;if(n.path===""||!((m=n.path)!=null&&m.includes("?")))o(n,l);else for(let c of bt(n.path))o(n,l,c)}),s}function bt(t){let s=t.split("/");if(s.length===0)return[];let[a,...r]=s,o=a.endsWith("?"),n=a.replace(/\?$/,"");if(r.length===0)return o?[n,""]:[n];let l=bt(r.join("/")),m=[];return m.push(...l.map(c=>c===""?n:[n,c].join("/"))),o&&m.push(...l),m.map(c=>t.startsWith("/")&&c===""?"/":c)}function ra(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:ua(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const ia=/^:[\w-]+$/,la=3,na=2,oa=1,ca=10,da=-2,Ze=t=>t==="*";function ma(t,s){let a=t.split("/"),r=a.length;return a.some(Ze)&&(r+=da),s&&(r+=na),a.filter(o=>!Ze(o)).reduce((o,n)=>o+(ia.test(n)?la:n===""?oa:ca),r)}function ua(t,s){return t.length===s.length&&t.slice(0,-1).every((r,o)=>r===s[o])?t[t.length-1]-s[s.length-1]:0}function xa(t,s,a){let{routesMeta:r}=t,o={},n="/",l=[];for(let m=0;m<r.length;++m){let c=r[m],p=m===r.length-1,b=n==="/"?s:s.slice(n.length)||"/",d=ha({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},b),j=c.route;if(!d)return null;Object.assign(o,d.params),l.push({params:o,pathname:oe([n,d.pathname]),pathnameBase:ba(oe([n,d.pathnameBase])),route:j}),d.pathnameBase!=="/"&&(n=oe([n,d.pathnameBase]))}return l}function ha(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=pa(t.path,t.caseSensitive,t.end),o=s.match(a);if(!o)return null;let n=o[0],l=n.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,b,d)=>{let{paramName:j,isOptional:C}=b;if(j==="*"){let w=m[d]||"";l=n.slice(0,n.length-w.length).replace(/(.)\/+$/,"$1")}const f=m[d];return C&&!f?p[j]=void 0:p[j]=(f||"").replace(/%2F/g,"/"),p},{}),pathname:n,pathnameBase:l,pattern:t}}function pa(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),ht(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,m,c)=>(r.push({paramName:m,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),r]}function ga(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ht(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function ft(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}const oe=t=>t.join("/").replace(/\/\/+/g,"/"),ba=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function fa(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yt=["post","put","patch","delete"];new Set(yt);const ya=["get",...yt];new Set(ya);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ne(){return Ne=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ne.apply(this,arguments)}const va=u.createContext(null),ja=u.createContext(null),vt=u.createContext(null),Se=u.createContext(null),$e=u.createContext({outlet:null,matches:[],isDataRoute:!1}),jt=u.createContext(null);function ze(){return u.useContext(Se)!=null}function wa(){return ze()||F(!1),u.useContext(Se).location}function Na(t,s){return _a(t,s)}function _a(t,s,a,r){ze()||F(!1);let{navigator:o}=u.useContext(vt),{matches:n}=u.useContext($e),l=n[n.length-1],m=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let p=wa(),b;if(s){var d;let y=typeof s=="string"?ke(s):s;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||F(!1),b=y}else b=p;let j=b.pathname||"/",C=j;if(c!=="/"){let y=c.replace(/^\//,"").split("/");C="/"+j.replace(/^\//,"").split("/").slice(y.length).join("/")}let f=aa(t,{pathname:C}),w=Ea(f&&f.map(y=>Object.assign({},y,{params:Object.assign({},m,y.params),pathname:oe([c,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:oe([c,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),n,a,r);return s&&w?u.createElement(Se.Provider,{value:{location:Ne({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Z.Pop}},w):w}function Ca(){let t=Aa(),s=fa(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},s),a?u.createElement("pre",{style:o},a):null,null)}const ka=u.createElement(Ca,null);class Sa extends u.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?u.createElement($e.Provider,{value:this.props.routeContext},u.createElement(jt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $a(t){let{routeContext:s,match:a,children:r}=t,o=u.useContext(va);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),u.createElement($e.Provider,{value:s},r)}function Ea(t,s,a,r){var o;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var n;if(!a)return null;if(a.errors)t=a.matches;else if((n=r)!=null&&n.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let l=t,m=(o=a)==null?void 0:o.errors;if(m!=null){let b=l.findIndex(d=>d.route.id&&(m==null?void 0:m[d.route.id])!==void 0);b>=0||F(!1),l=l.slice(0,Math.min(l.length,b+1))}let c=!1,p=-1;if(a&&r&&r.v7_partialHydration)for(let b=0;b<l.length;b++){let d=l[b];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(p=b),d.route.id){let{loaderData:j,errors:C}=a,f=d.route.loader&&j[d.route.id]===void 0&&(!C||C[d.route.id]===void 0);if(d.route.lazy||f){c=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((b,d,j)=>{let C,f=!1,w=null,y=null;a&&(C=m&&d.route.id?m[d.route.id]:void 0,w=d.route.errorElement||ka,c&&(p<0&&j===0?(Oa("route-fallback"),f=!0,y=null):p===j&&(f=!0,y=d.route.hydrateFallbackElement||null)));let k=s.concat(l.slice(0,j+1)),S=()=>{let _;return C?_=w:f?_=y:d.route.Component?_=u.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=b,u.createElement($a,{match:d,routeContext:{outlet:b,matches:k,isDataRoute:a!=null},children:_})};return a&&(d.route.ErrorBoundary||d.route.errorElement||j===0)?u.createElement(Sa,{location:a.location,revalidation:a.revalidation,component:w,error:C,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):S()},null)}var wt=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wt||{});function Ta(t){let s=u.useContext(ja);return s||F(!1),s}function Pa(t){let s=u.useContext($e);return s||F(!1),s}function Ra(t){let s=Pa(),a=s.matches[s.matches.length-1];return a.route.id||F(!1),a.route.id}function Aa(){var t;let s=u.useContext(jt),a=Ta(wt.UseRouteError),r=Ra();return s!==void 0?s:(t=a.errors)==null?void 0:t[r]}const Ke={};function Oa(t,s,a){Ke[t]||(Ke[t]=!0)}function La(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Nt(t){F(!1)}function Ma(t){let{basename:s="/",children:a=null,location:r,navigationType:o=Z.Pop,navigator:n,static:l=!1,future:m}=t;ze()&&F(!1);let c=s.replace(/^\/*/,"/"),p=u.useMemo(()=>({basename:c,navigator:n,static:l,future:Ne({v7_relativeSplatPath:!1},m)}),[c,m,n,l]);typeof r=="string"&&(r=ke(r));let{pathname:b="/",search:d="",hash:j="",state:C=null,key:f="default"}=r,w=u.useMemo(()=>{let y=ft(b,c);return y==null?null:{location:{pathname:y,search:d,hash:j,state:C,key:f},navigationType:o}},[c,b,d,j,C,f,o]);return w==null?null:u.createElement(vt.Provider,{value:p},u.createElement(Se.Provider,{children:a,value:w}))}function Ia(t){let{children:s,location:a}=t;return Na(Fe(s),a)}new Promise(()=>{});function Fe(t,s){s===void 0&&(s=[]);let a=[];return u.Children.forEach(t,(r,o)=>{if(!u.isValidElement(r))return;let n=[...s,o];if(r.type===u.Fragment){a.push.apply(a,Fe(r.props.children,n));return}r.type!==Nt&&F(!1),!r.props.index||!r.props.children||F(!1);let l={id:r.props.id||n.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Fe(r.props.children,n)),a.push(l)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ha="6";try{window.__reactRouterVersion=Ha}catch{}const Da="startTransition",et=At[Da];function Fa(t){let{basename:s,children:a,future:r,window:o}=t,n=u.useRef();n.current==null&&(n.current=Kt({window:o,v5Compat:!0}));let l=n.current,[m,c]=u.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},b=u.useCallback(d=>{p&&et?et(()=>c(d)):c(d)},[c,p]);return u.useLayoutEffect(()=>l.listen(b),[l,b]),u.useEffect(()=>La(r),[r]),u.createElement(Ma,{basename:s,children:a,location:m.location,navigationType:m.action,navigator:l,future:r})}var tt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tt||(tt={}));var at;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(at||(at={}));let Ba={data:""},Ua=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ba,za=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ga=/\/\*[^]*?\*\/|  +/g,st=/\n+/g,X=(t,s)=>{let a="",r="",o="";for(let n in t){let l=t[n];n[0]=="@"?n[1]=="i"?a=n+" "+l+";":r+=n[1]=="f"?X(l,n):n+"{"+X(l,n[1]=="k"?"":s)+"}":typeof l=="object"?r+=X(l,s?s.replace(/([^,])+/g,m=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,m):m?m+" "+c:c)):n):l!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=X.p?X.p(n,l):n+":"+l+";")}return a+(s&&o?s+"{"+o+"}":o)+r},J={},_t=t=>{if(typeof t=="object"){let s="";for(let a in t)s+=a+_t(t[a]);return s}return t},qa=(t,s,a,r,o)=>{let n=_t(t),l=J[n]||(J[n]=(c=>{let p=0,b=11;for(;p<c.length;)b=101*b+c.charCodeAt(p++)>>>0;return"go"+b})(n));if(!J[l]){let c=n!==t?t:(p=>{let b,d,j=[{}];for(;b=za.exec(p.replace(Ga,""));)b[4]?j.shift():b[3]?(d=b[3].replace(st," ").trim(),j.unshift(j[0][d]=j[0][d]||{})):j[0][b[1]]=b[2].replace(st," ").trim();return j[0]})(t);J[l]=X(o?{["@keyframes "+l]:c}:c,a?"":"."+l)}let m=a&&J.g?J.g:null;return a&&(J.g=J[l]),((c,p,b,d)=>{d?p.data=p.data.replace(d,c):p.data.indexOf(c)===-1&&(p.data=b?c+p.data:p.data+c)})(J[l],s,r,m),l},Va=(t,s,a)=>t.reduce((r,o,n)=>{let l=s[n];if(l&&l.call){let m=l(a),c=m&&m.props&&m.props.className||/^go/.test(m)&&m;l=c?"."+c:m&&typeof m=="object"?m.props?"":X(m,""):m===!1?"":m}return r+o+(l??"")},"");function Ee(t){let s=this||{},a=t.call?t(s.p):t;return qa(a.unshift?a.raw?Va(a,[].slice.call(arguments,1),s.p):a.reduce((r,o)=>Object.assign(r,o&&o.call?o(s.p):o),{}):a,Ua(s.target),s.g,s.o,s.k)}let Ct,Be,Ue;Ee.bind({g:1});let Y=Ee.bind({k:1});function Wa(t,s,a,r){X.p=s,Ct=t,Be=a,Ue=r}function K(t,s){let a=this||{};return function(){let r=arguments;function o(n,l){let m=Object.assign({},n),c=m.className||o.className;a.p=Object.assign({theme:Be&&Be()},m),a.o=/ *go\d+/.test(c),m.className=Ee.apply(a,r)+(c?" "+c:"");let p=t;return t[0]&&(p=m.as||t,delete m.as),Ue&&p[0]&&Ue(m),Ct(p,m)}return o}}var Ja=t=>typeof t=="function",_e=(t,s)=>Ja(t)?t(s):t,Qa=(()=>{let t=0;return()=>(++t).toString()})(),kt=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Ya=20,Ge="default",St=(t,s)=>{let{toastLimit:a}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===s.toast.id?{...l,...s.toast}:l)};case 2:let{toast:r}=s;return St(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=s;return{...t,toasts:t.toasts.map(l=>l.id===o||o===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let n=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+n}))}}},fe=[],$t={toasts:[],pausedAt:void 0,settings:{toastLimit:Ya}},V={},Et=(t,s=Ge)=>{V[s]=St(V[s]||$t,t),fe.forEach(([a,r])=>{a===s&&r(V[s])})},Tt=t=>Object.keys(V).forEach(s=>Et(t,s)),Xa=t=>Object.keys(V).find(s=>V[s].toasts.some(a=>a.id===t)),Te=(t=Ge)=>s=>{Et(s,t)},Za={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ka=(t={},s=Ge)=>{let[a,r]=u.useState(V[s]||$t),o=u.useRef(V[s]);u.useEffect(()=>(o.current!==V[s]&&r(V[s]),fe.push([s,r]),()=>{let l=fe.findIndex(([m])=>m===s);l>-1&&fe.splice(l,1)}),[s]);let n=a.toasts.map(l=>{var m,c,p;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((m=t[l.type])==null?void 0:m.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((c=t[l.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||Za[l.type],style:{...t.style,...(p=t[l.type])==null?void 0:p.style,...l.style}}});return{...a,toasts:n}},es=(t,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Qa()}),pe=t=>(s,a)=>{let r=es(s,t,a);return Te(r.toasterId||Xa(r.id))({type:2,toast:r}),r.id},M=(t,s)=>pe("blank")(t,s);M.error=pe("error");M.success=pe("success");M.loading=pe("loading");M.custom=pe("custom");M.dismiss=(t,s)=>{let a={type:3,toastId:t};s?Te(s)(a):Tt(a)};M.dismissAll=t=>M.dismiss(void 0,t);M.remove=(t,s)=>{let a={type:4,toastId:t};s?Te(s)(a):Tt(a)};M.removeAll=t=>M.remove(void 0,t);M.promise=(t,s,a)=>{let r=M.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let n=s.success?_e(s.success,o):void 0;return n?M.success(n,{id:r,...a,...a==null?void 0:a.success}):M.dismiss(r),o}).catch(o=>{let n=s.error?_e(s.error,o):void 0;n?M.error(n,{id:r,...a,...a==null?void 0:a.error}):M.dismiss(r)}),t};var ts=1e3,as=(t,s="default")=>{let{toasts:a,pausedAt:r}=Ka(t,s),o=u.useRef(new Map).current,n=u.useCallback((d,j=ts)=>{if(o.has(d))return;let C=setTimeout(()=>{o.delete(d),l({type:4,toastId:d})},j);o.set(d,C)},[]);u.useEffect(()=>{if(r)return;let d=Date.now(),j=a.map(C=>{if(C.duration===1/0)return;let f=(C.duration||0)+C.pauseDuration-(d-C.createdAt);if(f<0){C.visible&&M.dismiss(C.id);return}return setTimeout(()=>M.dismiss(C.id,s),f)});return()=>{j.forEach(C=>C&&clearTimeout(C))}},[a,r,s]);let l=u.useCallback(Te(s),[s]),m=u.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=u.useCallback((d,j)=>{l({type:1,toast:{id:d,height:j}})},[l]),p=u.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),b=u.useCallback((d,j)=>{let{reverseOrder:C=!1,gutter:f=8,defaultPosition:w}=j||{},y=a.filter(_=>(_.position||w)===(d.position||w)&&_.height),k=y.findIndex(_=>_.id===d.id),S=y.filter((_,R)=>R<k&&_.visible).length;return y.filter(_=>_.visible).slice(...C?[S+1]:[0,S]).reduce((_,R)=>_+(R.height||0)+f,0)},[a]);return u.useEffect(()=>{a.forEach(d=>{if(d.dismissed)n(d.id,d.removeDelay);else{let j=o.get(d.id);j&&(clearTimeout(j),o.delete(d.id))}})},[a,n]),{toasts:a,handlers:{updateHeight:c,startPause:m,endPause:p,calculateOffset:b}}},ss=Y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rs=Y`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,is=Y`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ls=K("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ss} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rs} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${is} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ns=Y`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,os=K("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ns} 1s linear infinite;
`,cs=Y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ds=Y`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ms=K("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cs} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ds} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,us=K("div")`
  position: absolute;
`,xs=K("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,hs=Y`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ps=K("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${hs} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gs=({toast:t})=>{let{icon:s,type:a,iconTheme:r}=t;return s!==void 0?typeof s=="string"?u.createElement(ps,null,s):s:a==="blank"?null:u.createElement(xs,null,u.createElement(os,{...r}),a!=="loading"&&u.createElement(us,null,a==="error"?u.createElement(ls,{...r}):u.createElement(ms,{...r})))},bs=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fs=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ys="0%{opacity:0;} 100%{opacity:1;}",vs="0%{opacity:1;} 100%{opacity:0;}",js=K("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ws=K("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ns=(t,s)=>{let a=t.includes("top")?1:-1,[r,o]=kt()?[ys,vs]:[bs(a),fs(a)];return{animation:s?`${Y(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Y(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_s=u.memo(({toast:t,position:s,style:a,children:r})=>{let o=t.height?Ns(t.position||s||"top-center",t.visible):{opacity:0},n=u.createElement(gs,{toast:t}),l=u.createElement(ws,{...t.ariaProps},_e(t.message,t));return u.createElement(js,{className:t.className,style:{...o,...a,...t.style}},typeof r=="function"?r({icon:n,message:l}):u.createElement(u.Fragment,null,n,l))});Wa(u.createElement);var Cs=({id:t,className:s,style:a,onHeightUpdate:r,children:o})=>{let n=u.useCallback(l=>{if(l){let m=()=>{let c=l.getBoundingClientRect().height;r(t,c)};m(),new MutationObserver(m).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return u.createElement("div",{ref:n,className:s,style:a},o)},ks=(t,s)=>{let a=t.includes("top"),r=a?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...r,...o}},Ss=Ee`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,be=16,$s=({reverseOrder:t,position:s="top-center",toastOptions:a,gutter:r,children:o,toasterId:n,containerStyle:l,containerClassName:m})=>{let{toasts:c,handlers:p}=as(a,n);return u.createElement("div",{"data-rht-toaster":n||"",style:{position:"fixed",zIndex:9999,top:be,left:be,right:be,bottom:be,pointerEvents:"none",...l},className:m,onMouseEnter:p.startPause,onMouseLeave:p.endPause},c.map(b=>{let d=b.position||s,j=p.calculateOffset(b,{reverseOrder:t,gutter:r,defaultPosition:s}),C=ks(d,j);return u.createElement(Cs,{id:b.id,key:b.id,onHeightUpdate:p.updateHeight,className:b.visible?Ss:"",style:C},b.type==="custom"?_e(b.message,b):o?o(b):u.createElement(_s,{toast:b,position:d}))}))};const Es=({onSearch:t,loading:s=!1})=>{const[a,r]=u.useState(""),[o,n]=u.useState(!1),[l,m]=u.useState(!1),[c,p]=u.useState(-1),b=u.useRef(null),[d,j]=u.useState({maxPapers:50,sources:["semantic_scholar","pubmed"],dateRange:{start:"",end:""},paperType:"research_paper"}),C=["Machine Learning in Healthcare","Climate Change Research","Artificial Intelligence Ethics","Quantum Computing Applications","Sustainable Energy Solutions","Blockchain Technology","Neural Networks in Medicine","Renewable Energy Systems","Cybersecurity Threats","Data Privacy Protection"],f=C.filter(N=>N.toLowerCase().includes(a.toLowerCase())&&a.length>0);u.useEffect(()=>{const N=h=>{b.current&&!b.current.contains(h.target)&&m(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const w=N=>{N.preventDefault(),a.trim()&&(t(a.trim(),d),m(!1))},y=(N,h)=>{j($=>({...$,[N]:h}))},k=(N,h)=>{j($=>({...$,dateRange:{...$.dateRange,[N]:h}}))},S=N=>{j(h=>({...h,sources:h.sources.includes(N)?h.sources.filter($=>$!==N):[...h.sources,N]}))},_=N=>{r(N),m(!1),p(-1)},R=N=>{N.key==="ArrowDown"?(N.preventDefault(),p(h=>h<f.length-1?h+1:0)):N.key==="ArrowUp"?(N.preventDefault(),p(h=>h>0?h-1:f.length-1)):N.key==="Enter"&&c>=0&&(N.preventDefault(),_(f[c]))};return e.jsxs(i.div,{ref:b,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative w-full max-w-5xl mx-auto",children:[e.jsx("div",{className:"relative",children:e.jsxs(i.div,{className:"relative bg-gradient-to-br from-white via-blue-50 to-purple-50 rounded-2xl shadow-2xl border border-white/20 backdrop-blur-sm overflow-hidden",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:30},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-pink-600/10 animate-pulse"}),e.jsxs("form",{onSubmit:w,className:"relative p-8 space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(i.div,{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",animate:{rotate:s?360:0},transition:{duration:2,repeat:s?1/0:0},children:e.jsx(ye,{className:"h-6 w-6 text-blue-500"})}),e.jsx(i.input,{type:"text",value:a,onChange:N=>{r(N.target.value),m(!0)},onKeyDown:R,onFocus:()=>m(!0),placeholder:"Enter your research topic (e.g., 'Machine Learning in Healthcare')",className:"block w-full pl-14 pr-16 py-4 bg-white/80 backdrop-blur-sm border-2 border-transparent rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg font-medium placeholder-gray-500 transition-all duration-300",disabled:s,whileFocus:{scale:1.02}}),e.jsx(i.button,{type:"submit",disabled:s||!a.trim(),className:"absolute inset-y-0 right-0 pr-3 flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(i.div,{className:`px-6 py-2 rounded-xl text-sm font-semibold flex items-center space-x-2 transition-all duration-300 ${s||!a.trim()?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg hover:shadow-xl"}`,animate:s?{background:["linear-gradient(to right, #3b82f6, #8b5cf6)","linear-gradient(to right, #8b5cf6, #ec4899)","linear-gradient(to right, #ec4899, #3b82f6)"]}:{},transition:{duration:2,repeat:s?1/0:0},children:s?e.jsxs(e.Fragment,{children:[e.jsx(i.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(Ot,{className:"h-4 w-4"})}),e.jsx("span",{children:"Generating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Generate"}),e.jsx(Le,{className:"h-4 w-4"})]})})})]}),e.jsx(U,{children:l&&f.length>0&&e.jsx(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200/50 backdrop-blur-sm z-50 max-h-60 overflow-y-auto",children:f.map((N,h)=>e.jsxs(i.button,{onClick:()=>_(N),className:`w-full px-4 py-3 text-left hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-200 flex items-center space-x-3 ${h===c?"bg-gradient-to-r from-blue-50 to-purple-50":""} ${h===f.length-1?"rounded-b-xl":""}`,whileHover:{x:4},children:[e.jsx(Q,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-gray-700",children:N})]},N))})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(i.button,{type:"button",onClick:()=>n(!o),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl hover:shadow-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsx("span",{children:"Advanced Filters"}),e.jsx(i.div,{animate:{rotate:o?180:0},transition:{duration:.3},children:e.jsx(Le,{className:"h-4 w-4"})})]}),e.jsxs(i.button,{type:"button",className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:shadow-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Lt,{className:"h-4 w-4"}),e.jsx("span",{children:"Settings"})]})]}),e.jsx(U,{children:o&&e.jsxs(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"border-t border-gray-200/50 pt-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Maximum Papers"}),e.jsxs("select",{value:d.maxPapers,onChange:N=>y("maxPapers",parseInt(N.target.value)),className:"w-full px-4 py-3 bg-white/80 backdrop-blur-sm border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300",children:[e.jsx("option",{value:25,children:"25 papers"}),e.jsx("option",{value:50,children:"50 papers"}),e.jsx("option",{value:100,children:"100 papers"}),e.jsx("option",{value:200,children:"200 papers"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Paper Type"}),e.jsxs("select",{value:d.paperType,onChange:N=>y("paperType",N.target.value),className:"w-full px-4 py-3 bg-white/80 backdrop-blur-sm border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300",children:[e.jsx("option",{value:"research_paper",children:"Research Paper"}),e.jsx("option",{value:"review_paper",children:"Review Paper"}),e.jsx("option",{value:"methodology_paper",children:"Methodology Paper"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Publication Date Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"date",value:d.dateRange.start,onChange:N=>k("start",N.target.value),className:"w-full px-4 py-3 bg-white/80 backdrop-blur-sm border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300",placeholder:"Start date"}),e.jsx("input",{type:"date",value:d.dateRange.end,onChange:N=>k("end",N.target.value),className:"w-full px-4 py-3 bg-white/80 backdrop-blur-sm border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300",placeholder:"End date"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Data Sources"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:[{id:"semantic_scholar",name:"Semantic Scholar",color:"from-blue-500 to-blue-600"},{id:"pubmed",name:"PubMed",color:"from-green-500 to-green-600"},{id:"openalex",name:"OpenAlex",color:"from-purple-500 to-purple-600"},{id:"crossref",name:"CrossRef",color:"from-orange-500 to-orange-600"},{id:"arxiv",name:"arXiv",color:"from-red-500 to-red-600"}].map(N=>e.jsxs(i.button,{type:"button",onClick:()=>S(N.id),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 flex items-center space-x-2 ${d.sources.includes(N.id)?`bg-gradient-to-r ${N.color} text-white shadow-lg`:"bg-white/80 text-gray-600 border-2 border-gray-200 hover:border-gray-300"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.sources.includes(N.id)?e.jsx(Mt,{className:"h-4 w-4"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{children:N.name})]},N.id))})]})]})})]})]})}),e.jsxs(i.div,{className:"mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-600 mb-3 flex items-center space-x-2",children:[e.jsx(Q,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{children:"Popular Research Topics"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.slice(0,6).map((N,h)=>e.jsx(i.button,{onClick:()=>r(N),className:"px-4 py-2 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-full text-sm font-medium hover:from-blue-100 hover:to-purple-100 hover:text-blue-700 transition-all duration-300 border border-gray-200/50",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+h*.1},children:N},N))})]})]})},Ts=({summary:t,onPaperSelect:s})=>{var b;const[a,r]=u.useState(!1),[o,n]=u.useState(null),l=()=>{switch(t.type){case"individual":return e.jsx("div",{className:"space-y-4",children:Array.isArray(t.content)&&t.content.map((d,j)=>e.jsxs(i.div,{className:`relative p-6 rounded-2xl border-2 transition-all duration-300 cursor-pointer ${o===d.id?"border-blue-400 bg-gradient-to-br from-blue-50 to-purple-50 shadow-xl scale-105":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-lg"}`,onClick:()=>s==null?void 0:s(d),onMouseEnter:()=>n(d.id),onMouseLeave:()=>n(null),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},whileHover:{y:-5},children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(i.div,{className:`px-3 py-1 rounded-full text-xs font-bold ${d.relevance_score>.8?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":d.relevance_score>.6?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white":"bg-gradient-to-r from-red-500 to-pink-500 text-white"}`,whileHover:{scale:1.1},children:[(d.relevance_score*100).toFixed(0),"% relevant"]})}),e.jsxs("div",{className:"pr-20",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-3 line-clamp-2 leading-tight",children:d.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed",children:d.abstract}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[d.authors.length," authors"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:new Date(d.published_date).getFullYear()})]}),d.citations_count>0&&e.jsxs("div",{className:"flex items-center space-x-2 text-purple-600",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[d.citations_count," citations"]})]})]}),d.url&&e.jsxs(i.a,{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-3 py-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all duration-300",onClick:C=>C.stopPropagation(),whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(dt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"View"})]})]})]})]},d.id))});case"thematic":return e.jsx(i.div,{className:"prose max-w-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsx("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed text-lg bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-2xl border border-purple-200",children:typeof t.content=="string"?t.content:JSON.stringify(t.content)})});case"key_findings":return e.jsx("div",{className:"space-y-4",children:Array.isArray(t.content)&&t.content.map((d,j)=>e.jsx(i.div,{className:"relative p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl shadow-lg",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:j*.1},whileHover:{scale:1.02},children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(i.div,{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-lg",whileHover:{rotate:360},transition:{duration:.5},children:j+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-800 font-semibold text-lg mb-2",children:d.finding}),d.papers&&e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Based on ",d.papers.length," paper",d.papers.length!==1?"s":""]}),d.confidence&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Confidence:"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3 shadow-inner",children:e.jsx(i.div,{className:"bg-gradient-to-r from-green-500 to-emerald-600 h-3 rounded-full shadow-sm",initial:{width:0},animate:{width:`${d.confidence*100}%`},transition:{duration:1,delay:j*.2}})}),e.jsxs("span",{className:"text-xs font-bold text-gray-700",children:[(d.confidence*100).toFixed(0),"%"]})]})})]})]})},j))});case"methodology":return e.jsx("div",{className:"space-y-6",children:typeof t.content=="object"&&t.content!==null&&Object.entries(t.content).map(([d,j],C)=>e.jsxs(i.div,{className:"border-2 border-orange-200 rounded-2xl p-6 bg-gradient-to-br from-orange-50 to-yellow-50 shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg",children:e.jsx(Ie,{className:"h-5 w-5 text-white"})}),e.jsxs("h5",{className:"font-bold text-gray-900 text-lg capitalize",children:[d.replace("_"," ")," (",Array.isArray(j)?j.length:0," papers)"]})]}),Array.isArray(j)&&j.slice(0,3).map((f,w)=>e.jsxs(i.div,{className:"text-sm text-gray-700 mb-2 pl-4 border-l-2 border-orange-300",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:C*.1+w*.05},children:["• ",f.title]},w)),Array.isArray(j)&&j.length>3&&e.jsxs("div",{className:"text-sm text-gray-500 mt-2 font-medium",children:["... and ",j.length-3," more papers"]})]},d))});default:return e.jsx(i.div,{className:"text-gray-700 p-6 bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl",initial:{opacity:0},animate:{opacity:1},children:typeof t.content=="string"?t.content:JSON.stringify(t.content)})}},m=()=>{switch(t.type){case"individual":return e.jsx(H,{className:"h-6 w-6"});case"thematic":return e.jsx(q,{className:"h-6 w-6"});case"key_findings":return e.jsx(ot,{className:"h-6 w-6"});case"methodology":return e.jsx(Ie,{className:"h-6 w-6"});default:return e.jsx(H,{className:"h-6 w-6"})}},c=()=>{switch(t.type){case"individual":return"from-blue-500 via-blue-600 to-purple-600";case"thematic":return"from-purple-500 via-purple-600 to-pink-600";case"key_findings":return"from-green-500 via-emerald-600 to-teal-600";case"methodology":return"from-orange-500 via-orange-600 to-red-600";default:return"from-gray-500 via-gray-600 to-blue-600"}},p=()=>{switch(t.type){case"individual":return"from-blue-50 via-blue-100 to-purple-50";case"thematic":return"from-purple-50 via-purple-100 to-pink-50";case"key_findings":return"from-green-50 via-emerald-100 to-teal-50";case"methodology":return"from-orange-50 via-orange-100 to-red-50";default:return"from-gray-50 via-gray-100 to-blue-50"}};return e.jsxs(i.div,{className:`relative rounded-2xl shadow-xl border-2 transition-all duration-300 bg-gradient-to-br ${p()}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${c()} opacity-10 rounded-t-2xl`}),e.jsxs(i.div,{className:"relative p-6 cursor-pointer",onClick:()=>r(!a),whileHover:{backgroundColor:"rgba(255, 255, 255, 0.1)"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(i.div,{className:`p-3 rounded-xl bg-gradient-to-r ${c()} text-white shadow-lg`,whileHover:{rotate:10},transition:{type:"spring",stiffness:300},children:m()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-xl mb-1",children:t.title}),t.metadata&&e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.metadata.paper_count&&e.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-semibold",children:[t.metadata.paper_count," papers"]})]}),t.metadata.average_relevance&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-semibold",children:[(t.metadata.average_relevance*100).toFixed(0),"% avg relevance"]})]})]})]})]}),e.jsx(i.button,{className:"flex-shrink-0 p-2 rounded-xl bg-white/80 backdrop-blur-sm shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(i.div,{animate:{rotate:a?180:0},transition:{duration:.3},children:a?e.jsx(nt,{className:"h-5 w-5 text-gray-600"}):e.jsx(Me,{className:"h-5 w-5 text-gray-600"})})})]}),((b=t.metadata)==null?void 0:b.key_themes)&&t.metadata.key_themes.length>0&&e.jsx(i.div,{className:"mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.metadata.key_themes.slice(0,4).map((d,j)=>e.jsx(i.span,{className:`px-3 py-1 bg-gradient-to-r ${c()} text-white text-xs font-semibold rounded-full shadow-md`,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.3+j*.1},whileHover:{scale:1.1},children:d},j)),t.metadata&&t.metadata.key_themes&&t.metadata.key_themes.length>4&&e.jsxs(i.span,{className:"px-3 py-1 bg-white/80 text-gray-600 text-xs font-semibold rounded-full shadow-md",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:["+",t.metadata.key_themes.length-4," more"]})]})})]})]}),e.jsx(U,{children:a&&e.jsx(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"px-6 pb-6 overflow-hidden",children:e.jsx("div",{className:"border-t border-white/50 pt-6",children:l()})})})]})},Ps=({paper:t,onEdit:s,onSave:a,onReorder:r,editable:o=!1})=>{const[n,l]=u.useState(null),[m,c]=u.useState(""),[p,b]=u.useState(!0),[d,j]=u.useState(null),[C,f]=u.useState("preview"),[w,y]=u.useState(null),[k,S]=u.useState(!1),[_,R]=u.useState(null),[N,h]=u.useState(!1),$=u.useRef(null),A=g=>{const v=t.sections[g];l(g),c((v==null?void 0:v.content)||"")},O=()=>{n&&s&&s(n,m),l(null),c(""),a&&a()},E=()=>{l(null),c("")},T=async(g,v)=>{try{await navigator.clipboard.writeText(g),j(v),setTimeout(()=>j(null),2e3)}catch(P){console.error("Failed to copy text: ",P)}},z=async g=>{var v;try{R(g),S(!1);const P={draft:t,references:[],summaries:{},analytics:{}},D=await fetch(`http://localhost:8000/download/${g}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({research_data:P,format:g})});if(!D.ok)throw new Error(`Download failed: ${D.statusText}`);const B=D.headers.get("Content-Disposition"),re=B?(v=B.split("filename=")[1])==null?void 0:v.replace(/"/g,""):`${t.title.replace(/[^a-zA-Z0-9]/g,"_")}.${g}`,I=await D.blob(),ae=window.URL.createObjectURL(I),ie=document.createElement("a");ie.href=ae,ie.download=re,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),window.URL.revokeObjectURL(ae)}catch(P){console.error("Download error:",P),alert(`Download failed: ${P.message}`)}finally{R(null)}},ee=()=>{window.print()},W=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),te=g=>({abstract:e.jsx(H,{className:"h-5 w-5"}),introduction:e.jsx(G,{className:"h-5 w-5"}),literature_review:e.jsx(q,{className:"h-5 w-5"}),methodology:e.jsx(Ie,{className:"h-5 w-5"}),results:e.jsx(Q,{className:"h-5 w-5"}),discussion:e.jsx(ce,{className:"h-5 w-5"}),conclusion:e.jsx(he,{className:"h-5 w-5"}),references:e.jsx(Bt,{className:"h-5 w-5"})})[g]||e.jsx(H,{className:"h-5 w-5"}),ge=g=>({abstract:"from-blue-500 to-blue-600",introduction:"from-blue-500 to-blue-600",literature_review:"from-purple-500 to-purple-600",methodology:"from-orange-500 to-orange-600",results:"from-green-500 to-green-600",discussion:"from-pink-500 to-pink-600",conclusion:"from-teal-500 to-teal-600",references:"from-gray-500 to-gray-600"})[g]||"from-gray-500 to-gray-600",Pe=g=>({abstract:"from-blue-50 to-blue-100",introduction:"from-blue-50 to-blue-100",literature_review:"from-purple-50 to-purple-100",methodology:"from-orange-50 to-orange-100",results:"from-green-50 to-green-100",discussion:"from-pink-50 to-pink-100",conclusion:"from-teal-50 to-teal-100",references:"from-gray-50 to-gray-100"})[g]||"from-gray-50 to-gray-100",x=Object.entries(t.sections);return e.jsxs(i.div,{className:"max-w-5xl mx-auto bg-white shadow-2xl rounded-2xl overflow-hidden border border-gray-200/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/50 via-purple-600/50 to-pink-600/50 animate-pulse"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold mb-3 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-6 text-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:["Generated on ",W(t.metadata.generation_date)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:["Topic: ",t.metadata.topic]})]}),p&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[t.metadata.word_count.toLocaleString()," words"]})]})]})]}),e.jsxs(i.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsx(i.button,{onClick:()=>b(!p),className:"p-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:p?e.jsx(nt,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})}),e.jsxs(i.button,{onClick:()=>f(C==="edit"?"preview":"edit"),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[C==="edit"?e.jsx(Me,{className:"h-4 w-4"}):e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:C==="edit"?"Preview":"Edit"})]})]})]}),e.jsxs(i.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsxs(i.button,{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Download"})]}),e.jsxs(i.button,{onClick:ee,className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Print"})]}),e.jsxs(i.button,{className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Ht,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Share"})]})]})]})]}),e.jsxs("div",{ref:$,className:"p-8 space-y-8",children:[t.abstract&&e.jsxs(i.div,{className:"border-l-4 border-blue-500 pl-6 rounded-r-2xl bg-gradient-to-br from-blue-50 to-purple-50 p-6 shadow-lg",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg text-white",children:te("abstract")}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Abstract"})]}),o&&e.jsx("div",{className:"flex items-center space-x-2",children:n==="abstract"?e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:O,className:"p-2 text-green-600 hover:bg-green-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:E,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:"×"})]}):e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:()=>A("abstract"),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Re,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:()=>T(t.abstract,"abstract"),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(xe,{className:"h-4 w-4"})})]})})]}),e.jsx(U,{mode:"wait",children:n==="abstract"?e.jsx(i.textarea,{value:m,onChange:g=>c(g.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 font-medium",rows:6,placeholder:"Enter abstract...",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2}}):e.jsx(i.div,{className:"prose max-w-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:t.abstract})})}),d==="abstract"&&e.jsxs(i.div,{className:"mt-3 text-sm text-green-600 font-medium flex items-center space-x-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Copied to clipboard"})]})]}),x.map(([g,v],P)=>e.jsxs(i.div,{className:`relative border-2 rounded-2xl overflow-hidden transition-all duration-300 ${w===g?"border-blue-400 shadow-2xl scale-105":"border-gray-200 shadow-lg hover:shadow-xl"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+P*.1},onMouseEnter:()=>y(g),onMouseLeave:()=>y(null),whileHover:{y:-5},children:[e.jsxs("div",{className:`relative bg-gradient-to-r ${Pe(g)} p-6 border-b-2 border-gray-200`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${ge(g)} opacity-5`}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(i.div,{className:`p-3 rounded-xl bg-gradient-to-r ${ge(g)} text-white shadow-lg`,whileHover:{rotate:10},transition:{type:"spring",stiffness:300},children:te(g)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-500",children:[P+1,"."]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 capitalize",children:v.title})]}),v.word_count&&p&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(ve,{className:"h-3 w-3"}),e.jsxs("span",{className:"font-medium",children:[v.word_count," words"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[o&&C==="edit"&&r&&e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:()=>r(g,"up"),disabled:P===0,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white/50 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Dt,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:()=>r(g,"down"),disabled:P===x.length-1,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white/50 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Ft,{className:"h-4 w-4"})})]}),o&&e.jsx("div",{className:"flex items-center space-x-2",children:n===g?e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:O,className:"p-2 text-green-600 hover:bg-green-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:E,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:"×"})]}):e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:()=>A(g),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Re,{className:"h-4 w-4"})}),e.jsx(i.button,{onClick:()=>T(v.content,g),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(xe,{className:"h-4 w-4"})})]})})]})]})]}),e.jsxs("div",{className:"p-6 bg-white",children:[e.jsx(U,{mode:"wait",children:n===g?e.jsx(i.textarea,{value:m,onChange:L=>c(L.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 font-medium",rows:Math.max(6,Math.ceil(v.content.length/100)),placeholder:`Enter ${v.title.toLowerCase()} content...`,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2}}):e.jsx(i.div,{className:"prose max-w-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx("div",{className:"text-gray-700 leading-relaxed text-lg whitespace-pre-wrap",children:v.content})})}),d===g&&e.jsxs(i.div,{className:"mt-3 text-sm text-green-600 font-medium flex items-center space-x-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Copied to clipboard"})]})]})]},g))]}),e.jsx(i.div,{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-8 py-6 border-t border-gray-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Generated by MIT Research Paper Generator"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsxs("span",{children:["Last updated: ",W(t.metadata.generation_date)]})]})]})}),e.jsx(U,{children:N&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[200]",onClick:()=>h(!1),children:e.jsxs(i.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl border border-gray-200 p-6 max-w-md w-full mx-4",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mx-auto mb-4",children:e.jsx(je,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Download Research Paper"}),e.jsx("p",{className:"text-gray-600",children:"Choose your preferred format"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(i.button,{onClick:()=>{z("txt"),h(!1)},disabled:_==="txt",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(H,{className:"h-6 w-6 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Plain Text"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Universal format (.txt)"})]}),_==="txt"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{z("markdown"),h(!1)},disabled:_==="markdown",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(mt,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Markdown"}),e.jsx("div",{className:"text-sm text-gray-600",children:"With clickable links (.md)"})]}),_==="markdown"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{z("json"),h(!1)},disabled:_==="json",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(q,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"JSON Data"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete data export (.json)"})]}),_==="json"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{z("bibtex"),h(!1)},disabled:_==="bibtex",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(G,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"BibTeX References"}),e.jsx("div",{className:"text-sm text-gray-600",children:"For LaTeX & reference managers (.bib)"})]}),_==="bibtex"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx(i.button,{onClick:()=>h(!1),className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"})})]})})})]})},Rs=({references:t,citationStyle:s,onStyleChange:a,onReferenceSelect:r,researchData:o})=>{const[n,l]=u.useState(""),[m,c]=u.useState("relevance"),[p,b]=u.useState(""),[d,j]=u.useState(!1),[C,f]=u.useState(null),[w,y]=u.useState(null),[k,S]=u.useState(new Set(["citations","bibliography"])),[_,R]=u.useState(null),[N,h]=u.useState(!1),$=u.useMemo(()=>{let x=t.filter(g=>{const v=g.title.toLowerCase().includes(n.toLowerCase())||g.authors.some(L=>L.toLowerCase().includes(n.toLowerCase()))||g.journal.toLowerCase().includes(n.toLowerCase()),P=!p||g.year===p;return v&&P});return x.sort((g,v)=>{switch(m){case"relevance":return v.relevance_score-g.relevance_score;case"year":return parseInt(v.year)-parseInt(g.year);case"citations":return v.citations_count-g.citations_count;case"alphabetical":return g.title.localeCompare(v.title);default:return 0}}),x},[t,n,m,p]),A=x=>{const g=new Set(k);g.has(x)?g.delete(x):g.add(x),S(g)},O=(x,g)=>{const v=x.authors,P=x.title,L=x.journal,D=x.year,B=x.volume,re=x.issue,I=x.pages,ae=x.doi;switch(g){case"apa":let de=`${v.length===1?v[0]:v.length<=7?v.slice(0,-1).join(", ")+", & "+v.slice(-1):v.slice(0,6).join(", ")+", ... "+v.slice(-1)} (${D}). ${P}. `;return L&&(de+=L,B&&(de+=`, ${B}`),I&&(de+=`, ${I}`)),ae&&(de+=` https://doi.org/${ae}`),de;case"mla":let me=`${v.length===1?v[0]:v.slice(0,-1).join(", ")+", and "+v.slice(-1)}. "${P}." `;return L&&(me+=L,B&&(me+=`, vol. ${B}`),I?me+=`, ${D}, pp. ${I}`:me+=`, ${D}`),me;case"chicago":let le=`${v.length===1?v[0]:v.slice(0,-1).join(", ")+", and "+v.slice(-1)}. "${P}." `;return L&&(le+=L,B&&(le+=` ${B}`),I?le+=`, no. ${re} (${D}): ${I}`:le+=` (${D})`),ae&&(le+=` https://doi.org/${ae}`),le;case"ieee":let ue=`${v.length===1?v[0]:v.length<=6?v.join(", "):v.slice(0,3).join(", ")+" et al."}, "${P}," `;return L&&(ue+=L,B&&(ue+=`, vol. ${B}`),I&&(ue+=`, pp. ${I}`),ue+=`, ${D}`),ue;default:return`${v.join(", ")} (${D}). ${P}. ${L}`}},E=async(x,g)=>{try{await navigator.clipboard.writeText(x),y(g),setTimeout(()=>y(null),2e3)}catch(v){console.error("Failed to copy text: ",v)}},T=async x=>{var g;if(o)try{R(x);const P=await fetch(`http://localhost:8000/download/${x}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({research_data:o,format:x})});if(!P.ok)throw new Error(`Download failed: ${P.statusText}`);const L=P.headers.get("Content-Disposition"),D=L?(g=L.split("filename=")[1])==null?void 0:g.replace(/"/g,""):`research_paper.${x}`,B=await P.blob(),re=window.URL.createObjectURL(B),I=document.createElement("a");I.href=re,I.download=D,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(re)}catch(v){console.error("Download error:",v),alert(`Download failed: ${v.message}`)}finally{R(null)}},z=async()=>{const g=$.map(v=>O(v,s)).join(`

`);try{await navigator.clipboard.writeText(g),y("all"),setTimeout(()=>y(null),2e3)}catch(v){console.error("Failed to copy citations: ",v)}},ee=()=>{const x=t.map(g=>parseInt(g.year)).filter(g=>!isNaN(g));return x.length===0?[]:Array.from({length:Math.max(...x)-Math.min(...x)+1},(g,v)=>Math.min(...x)+v)},W=x=>({apa:"from-blue-500 to-blue-600",mla:"from-green-500 to-green-600",chicago:"from-purple-500 to-purple-600",ieee:"from-orange-500 to-orange-600"})[x]||"from-gray-500 to-gray-600",te=x=>({apa:"from-blue-50 to-blue-100",mla:"from-green-50 to-green-100",chicago:"from-purple-50 to-purple-100",ieee:"from-orange-50 to-orange-100"})[x]||"from-gray-50 to-gray-100",ge=x=>x>.8?"from-green-500 to-emerald-600":x>.6?"from-yellow-500 to-orange-500":"from-red-500 to-pink-500",Pe=()=>{const x={};return["apa","mla","chicago","ieee"].forEach(g=>{x[g]=$.map(v=>O(v,g))}),x};return e.jsxs(i.div,{className:"max-w-6xl mx-auto bg-white rounded-2xl shadow-2xl border border-gray-200/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-green-600 via-blue-600 to-purple-600 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/50 via-blue-600/50 to-purple-600/50 animate-pulse"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-blue-500 rounded-xl",children:e.jsx(G,{className:"h-6 w-6"})}),e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-green-100 bg-clip-text text-transparent",children:"References"})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-green-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[$.length," references found"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Multiple citation styles"})]})]})]}),e.jsxs(i.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsxs(i.button,{onClick:z,className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Copy All"})]}),e.jsxs(i.button,{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Download"})]})]})]}),e.jsxs(i.div,{className:"flex items-center space-x-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsx("span",{className:"text-sm font-semibold text-green-100",children:"Citation Style:"}),e.jsx("div",{className:"flex space-x-2",children:["apa","mla","chicago","ieee"].map(x=>e.jsx(i.button,{onClick:()=>a==null?void 0:a(x),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 ${s===x?`bg-gradient-to-r ${W(x)} text-white shadow-lg`:"bg-white/20 text-white hover:bg-white/30"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:x.toUpperCase()},x))})]}),e.jsxs(i.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Search references...",value:n,onChange:x=>l(x.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl focus:ring-4 focus:ring-white/20 focus:border-white placeholder-green-100 font-medium transition-all duration-300"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs(i.select,{value:m,onChange:x=>c(x.target.value),className:"px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white focus:ring-4 focus:ring-white/20 font-medium transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("option",{value:"relevance",className:"text-gray-900",children:"Sort by Relevance"}),e.jsx("option",{value:"year",className:"text-gray-900",children:"Sort by Year"}),e.jsx("option",{value:"citations",className:"text-gray-900",children:"Sort by Citations"}),e.jsx("option",{value:"alphabetical",className:"text-gray-900",children:"Sort Alphabetically"})]}),e.jsxs(i.button,{onClick:()=>j(!d),className:"flex items-center space-x-2 px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white hover:bg-white/30 transition-all duration-300 font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]})]}),e.jsx(U,{children:d&&e.jsx(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-4 bg-white/10 backdrop-blur-sm rounded-xl border border-white/20",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-green-100 mb-2",children:"Year"}),e.jsxs("select",{value:p,onChange:x=>b(x.target.value),className:"px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:ring-2 focus:ring-white/20 font-medium",children:[e.jsx("option",{value:"",className:"text-gray-900",children:"All years"}),ee().reverse().map(x=>e.jsx("option",{value:x.toString(),className:"text-gray-900",children:x},x))]})]})})})})]})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs(i.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(H,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Citation Styles"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(Pe()).map(([x,g],v)=>e.jsxs(i.div,{className:`border-2 rounded-2xl overflow-hidden shadow-lg bg-gradient-to-br ${te(x)}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+v*.1},whileHover:{scale:1.02},children:[e.jsxs(i.button,{onClick:()=>A(x),className:`w-full px-6 py-4 text-left rounded-t-2xl flex items-center justify-between bg-gradient-to-r ${W(x)} text-white`,whileHover:{backgroundColor:"rgba(255, 255, 255, 0.1)"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(H,{className:"h-5 w-5"})}),e.jsxs("span",{className:"font-bold text-lg capitalize",children:[x," Style (",g.length," citations)"]})]}),e.jsx(i.div,{animate:{rotate:k.has(x)?180:0},transition:{duration:.3},children:e.jsx(We,{className:"h-5 w-5"})})]}),e.jsx(U,{children:k.has(x)&&e.jsx(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-6 space-y-3 max-h-96 overflow-y-auto",children:g.map((P,L)=>e.jsxs(i.div,{className:"flex items-start justify-between p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-white/50 shadow-md",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:L*.05},whileHover:{scale:1.02},children:[e.jsx("span",{className:"text-sm text-gray-700 flex-1 font-medium leading-relaxed",children:P}),e.jsx(i.button,{onClick:()=>E(P,`${x}-${L}`),className:"ml-4 p-2 text-gray-500 hover:text-gray-700 hover:bg-white/50 rounded-lg transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(xe,{className:"h-4 w-4"})})]},L))})})]},x))})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[e.jsxs(i.button,{onClick:()=>A("bibliography"),className:"w-full px-6 py-4 text-left bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 rounded-2xl mb-6 flex items-center justify-between border-2 border-green-200 shadow-lg transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg",children:e.jsx(G,{className:"h-5 w-5 text-white"})}),e.jsxs("span",{className:"font-bold text-green-900 text-lg",children:["Bibliography (",$.length," references)"]})]}),e.jsx(i.div,{animate:{rotate:k.has("bibliography")?180:0},transition:{duration:.3},children:e.jsx(We,{className:"h-5 w-5 text-green-600"})})]}),e.jsx(U,{children:k.has("bibliography")&&e.jsxs(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-4",children:[$.map((x,g)=>e.jsxs(i.div,{className:`border-2 rounded-2xl p-6 transition-all duration-300 cursor-pointer ${C===x.id?"border-blue-400 shadow-2xl scale-105 bg-gradient-to-br from-blue-50 to-purple-50":"border-gray-200 shadow-lg hover:shadow-xl bg-white"}`,onClick:()=>r==null?void 0:r(x),onMouseEnter:()=>f(x.id),onMouseLeave:()=>f(null),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.05},whileHover:{y:-5},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-500",children:["[",g+1,"]"]}),e.jsxs(i.div,{className:`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${ge(x.relevance_score)} text-white shadow-md`,whileHover:{scale:1.1},children:[(x.relevance_score*100).toFixed(0),"% relevant"]}),x.citations_count>0&&e.jsxs(i.div,{className:"px-3 py-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs font-bold rounded-full shadow-md",whileHover:{scale:1.1},children:[x.citations_count," citations"]})]}),x.url?e.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"font-bold text-blue-600 hover:text-blue-800 text-lg mb-3 leading-tight block cursor-pointer transition-colors duration-200",onClick:v=>{v.stopPropagation(),console.log("Clicking title link:",x.url)},children:x.title}):e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-3 leading-tight",children:x.title}),e.jsxs("div",{className:"text-sm text-gray-600 mb-3 space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:"h-4 w-4 text-blue-500"}),e.jsx("p",{className:"font-semibold",children:x.authors.join(", ")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-4 w-4 text-green-500"}),e.jsxs("p",{children:[x.journal," (",x.year,")"]})]}),(x.volume||x.issue||x.pages)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"h-4 w-4 text-purple-500"}),e.jsxs("p",{children:[x.volume&&e.jsxs("span",{children:["Volume ",x.volume]}),x.issue&&e.jsxs("span",{children:[", Issue ",x.issue]}),x.pages&&e.jsxs("span",{children:[", pp. ",x.pages]})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-blue-50 p-4 rounded-xl border-l-4 border-blue-500",children:[e.jsxs("strong",{className:"text-blue-600",children:[s.toUpperCase(),":"]}),e.jsx("span",{dangerouslySetInnerHTML:{__html:O(x,s).replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 underline cursor-pointer font-semibold bg-blue-50 px-1 py-0.5 rounded transition-all duration-200 hover:bg-blue-100">🔗 $1</a>')}})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 ml-4 mt-2",children:[e.jsxs(i.button,{onClick:v=>{v.stopPropagation(),E(O(x,s),x.id)},className:"flex items-center space-x-1 px-3 py-2 bg-gray-50 text-gray-700 hover:bg-gray-100 hover:text-gray-800 rounded-xl transition-all duration-300 text-sm font-medium border border-gray-200 cursor-pointer shadow-sm hover:shadow-md",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Copy citation to clipboard",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Copy"})]}),x.url&&e.jsxs(i.a,{href:x.url,target:"_blank",rel:"noopener noreferrer",onClick:v=>{v.stopPropagation(),console.log("Clicking paper link:",x.url)},className:"flex items-center space-x-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 rounded-xl transition-all duration-300 text-sm font-bold cursor-pointer shadow-lg hover:shadow-xl transform hover:-translate-y-1 border-2 border-blue-500",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Click to view full paper",children:[e.jsx(dt,{className:"h-4 w-4"}),e.jsx("span",{children:"View Paper"})]}),x.doi&&e.jsxs(i.a,{href:`https://doi.org/${x.doi}`,target:"_blank",rel:"noopener noreferrer",onClick:v=>{v.stopPropagation(),console.log("Clicking DOI link:",`https://doi.org/${x.doi}`)},className:"flex items-center space-x-1 px-3 py-2 bg-purple-50 text-purple-700 hover:bg-purple-100 hover:text-purple-800 rounded-xl transition-all duration-300 text-sm font-medium border border-purple-200 cursor-pointer shadow-sm hover:shadow-md",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Click to view via DOI",children:[e.jsx(Ut,{className:"h-4 w-4"}),e.jsx("span",{children:"DOI"})]})]})]}),w===x.id&&e.jsxs(i.div,{className:"mt-3 text-sm text-green-600 font-medium flex items-center space-x-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Citation copied to clipboard!"})]})]},x.id)),$.length===0&&e.jsxs(i.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[e.jsx(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No references found"}),e.jsx("p",{className:"text-gray-600",children:n||p?"Try adjusting your search or filter criteria.":"No references available for this research session."})]})]})})]}),w==="all"&&e.jsxs(i.div,{className:"mt-6 text-sm text-green-600 font-medium flex items-center justify-center space-x-2 bg-green-50 p-4 rounded-xl",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"All citations copied to clipboard!"})]})]}),e.jsx(U,{children:N&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[200]",onClick:()=>h(!1),children:e.jsxs(i.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl border border-gray-200 p-6 max-w-md w-full mx-4",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mx-auto mb-4",children:e.jsx(je,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Download Research Paper"}),e.jsx("p",{className:"text-gray-600",children:"Choose your preferred format"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(i.button,{onClick:()=>{T("txt"),h(!1)},disabled:_==="txt",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(H,{className:"h-6 w-6 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Plain Text"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Universal format (.txt)"})]}),_==="txt"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{T("markdown"),h(!1)},disabled:_==="markdown",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(mt,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Markdown"}),e.jsx("div",{className:"text-sm text-gray-600",children:"With clickable links (.md)"})]}),_==="markdown"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{T("json"),h(!1)},disabled:_==="json",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(q,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"JSON Data"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete data export (.json)"})]}),_==="json"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsxs(i.button,{onClick:()=>{T("bibtex"),h(!1)},disabled:_==="bibtex",className:"w-full flex items-center space-x-4 px-5 py-4 text-left hover:bg-blue-50 hover:border-blue-200 rounded-xl transition-all duration-200 text-gray-800 border-2 border-gray-100 hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(G,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"BibTeX References"}),e.jsx("div",{className:"text-sm text-gray-600",children:"For LaTeX & reference managers (.bib)"})]}),_==="bibtex"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx(i.button,{onClick:()=>h(!1),className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"})})]})})})]})},rt=({analytics:t,loading:s=!1})=>{const a={paper_metrics:{word_count:2500,...t==null?void 0:t.paper_metrics},content_analysis:{keywords:["research","analysis","methodology","findings","conclusions"],sentiment:{positive:.6,neutral:.3,negative:.1},...t==null?void 0:t.content_analysis},source_analysis:{total_sources:7,journal_diversity:5,...t==null?void 0:t.source_analysis},quality_indicators:{overall_quality_score:.75,content_completeness:.8,logical_flow:.7,evidence_strength:.6,academic_rigor:.8,...t==null?void 0:t.quality_indicators},trend_analysis:{publication_trends:{recent_activity:5},...t==null?void 0:t.trend_analysis},recommendations:(t==null?void 0:t.recommendations)||["Continue with current approach","Consider additional sources","Expand methodology section"]},[r,o]=u.useState("overview"),[n,l]=u.useState(null);if(!t||typeof t!="object")return e.jsx("div",{className:"max-w-7xl mx-auto p-8 text-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(se,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analytics Not Available"}),e.jsx("p",{className:"text-gray-600",children:"Analytics data could not be loaded. Please try generating a new paper."})]})});const m=({title:f,value:w,subtitle:y,icon:k,color:S,trend:_,metricId:R})=>{const N={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",pink:"from-pink-500 to-pink-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600"},h={blue:"from-blue-50 to-blue-100",green:"from-green-50 to-green-100",purple:"from-purple-50 to-purple-100",orange:"from-orange-50 to-orange-100",red:"from-red-50 to-red-100",pink:"from-pink-50 to-pink-100",teal:"from-teal-50 to-teal-100",indigo:"from-indigo-50 to-indigo-100"};return e.jsxs(i.div,{className:`relative bg-gradient-to-br ${h[S]} p-6 rounded-2xl shadow-lg border-2 border-white/50 transition-all duration-300 ${n===R?"scale-105 shadow-2xl":"hover:shadow-xl"}`,onMouseEnter:()=>l(R||null),onMouseLeave:()=>l(null),whileHover:{y:-5},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${N[S]} opacity-5 rounded-2xl`}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:f}),e.jsx(i.p,{className:"text-3xl font-bold text-gray-900",animate:{scale:n===R?1.05:1},children:w}),y&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y}),_&&e.jsxs(i.div,{className:`flex items-center mt-2 text-sm font-medium ${_.isPositive?"text-green-600":"text-red-600"}`,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:[e.jsx(i.div,{animate:{rotate:_.isPositive?0:180},transition:{duration:.3},children:e.jsx(Q,{className:"h-4 w-4 mr-1"})}),e.jsxs("span",{children:[Math.abs(_.value),"%"]})]})]}),e.jsx(i.div,{className:`p-4 rounded-xl bg-gradient-to-r ${N[S]} text-white shadow-lg`,whileHover:{rotate:10,scale:1.1},transition:{type:"spring",stiffness:300},children:k})]})]})},c=({label:f,value:w,max:y=1,color:k="blue",animated:S=!0})=>{const _=w/y*100,R={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",pink:"from-pink-500 to-pink-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600"};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:f}),e.jsxs("span",{className:"text-gray-500 font-medium",children:[Math.round(_),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:e.jsx(i.div,{className:`h-3 rounded-full bg-gradient-to-r ${R[k]} shadow-sm`,initial:{width:0},animate:{width:S?`${Math.min(_,100)}%`:`${Math.min(_,100)}%`},transition:{duration:1,delay:.2}})})]})},p=({data:f,title:w})=>{const y=f.reduce((S,_)=>S+_.value,0);let k=0;return e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:w}),e.jsx("div",{className:"relative w-48 h-48 mx-auto mb-4",children:e.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:f.map((S,_)=>{const N=S.value/y*100/100*360,h=k,$=k+N,A=(h-90)*(Math.PI/180),O=($-90)*(Math.PI/180),E=50+35*Math.cos(A),T=50+35*Math.sin(A),z=50+35*Math.cos(O),ee=50+35*Math.sin(O),W=N>180?1:0,te=["M 50 50",`L ${E} ${T}`,`A 35 35 0 ${W} 1 ${z} ${ee}`,"Z"].join(" ");return k+=N,e.jsx(i.path,{d:te,fill:S.color,initial:{opacity:0},animate:{opacity:1},transition:{delay:_*.1,duration:.5},whileHover:{scale:1.05},className:"cursor-pointer"},_)})})}),e.jsx("div",{className:"space-y-2",children:f.map((S,_)=>e.jsxs(i.div,{className:"flex items-center space-x-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1+.5},children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.color}}),e.jsx("span",{className:"text-sm text-gray-600",children:S.label}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 ml-auto",children:[Math.round(S.value/y*100),"%"]})]},_))})]})},b=()=>{var f,w,y,k;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs(i.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx(m,{title:"Word Count",value:a.paper_metrics.word_count.toLocaleString(),subtitle:"Total words in paper",icon:e.jsx(H,{className:"h-6 w-6"}),color:"blue",metricId:"word-count"}),e.jsx(m,{title:"Sources Used",value:a.source_analysis.total_sources||0,subtitle:`${a.source_analysis.journal_diversity||0} journals`,icon:e.jsx(ne,{className:"h-6 w-6"}),color:"green",metricId:"sources"}),e.jsx(m,{title:"Quality Score",value:`${Math.round((a.quality_indicators.overall_quality_score||0)*100)}%`,subtitle:"Overall quality assessment",icon:e.jsx(Ae,{className:"h-6 w-6"}),color:"purple",metricId:"quality"}),e.jsx(m,{title:"Citation Density",value:(((f=t==null?void 0:t.paper_metrics)==null?void 0:f.citation_density)||0).toFixed(1),subtitle:"Citations per 1000 words",icon:e.jsx(Oe,{className:"h-6 w-6"}),color:"orange",metricId:"citations"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(p,{data:[{label:"Positive",value:((w=a.content_analysis.sentiment)==null?void 0:w.positive)||.6,color:"#10B981"},{label:"Neutral",value:((y=a.content_analysis.sentiment)==null?void 0:y.neutral)||.3,color:"#3B82F6"},{label:"Negative",value:((k=a.content_analysis.sentiment)==null?void 0:k.negative)||.1,color:"#EF4444"}],title:"Sentiment Analysis"}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(ot,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{children:"Quality Indicators"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(c,{label:"Content Completeness",value:a.quality_indicators.content_completeness,color:"blue"}),e.jsx(c,{label:"Logical Flow",value:a.quality_indicators.logical_flow,color:"green"}),e.jsx(c,{label:"Evidence Strength",value:a.quality_indicators.evidence_strength,color:"purple"}),e.jsx(c,{label:"Academic Rigor",value:a.quality_indicators.academic_rigor,color:"orange"})]})]})]}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(q,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{children:"Top Keywords"})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:(a.content_analysis.keywords||["research","analysis","methodology","findings","conclusions"]).slice(0,12).map((S,_)=>e.jsx(i.span,{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-sm font-semibold rounded-full shadow-md",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:_*.1+.6},whileHover:{scale:1.1,y:-2},children:S},_))})]})]})},d=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs(i.div,{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6},children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-8 flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl",children:e.jsx(Ae,{className:"h-6 w-6 text-white"})}),e.jsx("span",{children:"Detailed Quality Assessment"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(i.div,{className:"text-6xl font-bold text-gray-900 mb-2",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:[Math.round((a.quality_indicators.overall_quality_score||.75)*100),"%"]}),e.jsx("div",{className:"text-lg text-gray-600 font-medium",children:"Overall Quality Score"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{label:"Content Completeness",value:a.quality_indicators.content_completeness,color:"blue"}),e.jsx(c,{label:"Logical Flow",value:a.quality_indicators.logical_flow,color:"green"}),e.jsx(c,{label:"Evidence Strength",value:a.quality_indicators.evidence_strength,color:"purple"}),e.jsx(c,{label:"Academic Rigor",value:a.quality_indicators.academic_rigor,color:"orange"}),e.jsx(c,{label:"Citation Quality",value:a.quality_indicators.citation_quality,color:"red"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:"Quality Breakdown"}),e.jsx("div",{className:"space-y-4",children:[{label:"Content Completeness",value:a.quality_indicators.content_completeness},{label:"Logical Flow",value:a.quality_indicators.logical_flow},{label:"Evidence Strength",value:a.quality_indicators.evidence_strength},{label:"Academic Rigor",value:a.quality_indicators.academic_rigor},{label:"Citation Quality",value:a.quality_indicators.citation_quality}].map((f,w)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-gray-50 rounded-xl",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:w*.1+.4},children:[e.jsx("span",{className:"font-medium text-gray-700",children:f.label}),e.jsxs("span",{className:"font-bold text-gray-900",children:[Math.round(f.value*100),"%"]})]},w))})]})]})]}),t.recommendations&&t.recommendations.length>0&&e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(ce,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{children:"Recommendations"})]}),e.jsx("div",{className:"space-y-4",children:t.recommendations.map((f,w)=>e.jsxs(i.div,{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.1+.8},whileHover:{scale:1.02},children:[e.jsx(i.div,{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-lg",whileHover:{rotate:360},transition:{duration:.5},children:w+1}),e.jsx("p",{className:"text-gray-700 font-medium leading-relaxed",children:f})]},w))})]})]}),j=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(m,{title:"Total Sources",value:a.source_analysis.total_sources,subtitle:"Research papers analyzed",icon:e.jsx(H,{className:"h-6 w-6"}),color:"blue"}),e.jsx(m,{title:"Journal Diversity",value:a.source_analysis.journal_diversity,subtitle:"Unique journals",icon:e.jsx(ne,{className:"h-6 w-6"}),color:"green"}),e.jsx(m,{title:"Author Diversity",value:a.source_analysis.author_diversity,subtitle:"Unique authors",icon:e.jsx(ne,{className:"h-6 w-6"}),color:"purple"}),e.jsx(m,{title:"Total Citations",value:a.source_analysis.citation_impact.total_citations.toLocaleString(),subtitle:"Across all sources",icon:e.jsx(Oe,{className:"h-6 w-6"}),color:"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(ct,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Publication Timeline"})]}),e.jsx("div",{className:"space-y-4",children:[{label:"Earliest Publication",value:a.source_analysis.publication_years.earliest},{label:"Latest Publication",value:a.source_analysis.publication_years.latest},{label:"Average Year",value:Math.round(a.source_analysis.publication_years.average)},{label:"Recent Activity",value:`${a.trend_analysis.publication_trends.recent_activity} papers (2020+)`}].map((f,w)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-blue-50 rounded-xl",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:w*.1+.2},children:[e.jsx("span",{className:"font-medium text-gray-700",children:f.label}),e.jsx("span",{className:"font-bold text-blue-600",children:f.value})]},w))})]}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(Q,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"Citation Impact"})]}),e.jsx("div",{className:"space-y-4",children:[{label:"Average Citations",value:Math.round(a.source_analysis.citation_impact.average_citations)},{label:"Median Citations",value:a.source_analysis.citation_impact.median_citations},{label:"Max Citations",value:a.source_analysis.citation_impact.max_citations},{label:"High Relevance Sources",value:a.source_analysis.relevance_analysis.high_relevance_count}].map((f,w)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-green-50 rounded-xl",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:w*.1+.4},children:[e.jsx("span",{className:"font-medium text-gray-700",children:f.label}),e.jsx("span",{className:"font-bold text-green-600",children:f.value})]},w))})]})]}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(Oe,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{children:"Relevance Analysis"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(c,{label:"Average Relevance",value:a.source_analysis.relevance_analysis.average_relevance,color:"blue"}),e.jsx(c,{label:"Median Relevance",value:a.source_analysis.relevance_analysis.median_relevance,color:"green"}),e.jsxs("div",{className:"text-sm text-gray-600 bg-purple-50 p-4 rounded-xl",children:[e.jsx("strong",{children:a.source_analysis.relevance_analysis.high_relevance_count})," out of"," ",e.jsx("strong",{children:a.source_analysis.total_sources})," sources have high relevance (",">","70%)"]})]})]})]}),C=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(zt,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Publication Trends"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(i.div,{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",whileHover:{scale:1.02},children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Growth Rate"}),e.jsxs("span",{className:`font-bold text-lg ${a.trend_analysis.publication_trends.growth_rate>=0?"text-green-600":"text-red-600"}`,children:[a.trend_analysis.publication_trends.growth_rate>=0?"+":"",(a.trend_analysis.publication_trends.growth_rate*100).toFixed(1),"%"]})]}),e.jsxs(i.div,{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-teal-50 rounded-xl",whileHover:{scale:1.02},children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Recent Activity (2020+)"}),e.jsxs("span",{className:"font-bold text-lg text-green-600",children:[a.trend_analysis.publication_trends.recent_activity," papers"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(q,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{children:"Methodological Trends"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(a.trend_analysis.methodological_trends).map(([f,w],y)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-orange-50 rounded-xl",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:y*.1+.4},whileHover:{scale:1.02},children:[e.jsx("span",{className:"font-medium text-gray-700 capitalize",children:f}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-3",children:e.jsx(i.div,{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-3 rounded-full",initial:{width:0},animate:{width:`${w/Math.max(...Object.values(a.trend_analysis.methodological_trends))*100}%`},transition:{duration:1,delay:y*.1+.6}})}),e.jsx("span",{className:"font-bold text-orange-600",children:w})]})]},f))})]}),e.jsxs(i.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(Gt,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{children:"Top Topics"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(a.trend_analysis.topic_trends).slice(0,5).map(([f,w],y)=>e.jsxs(i.div,{className:"flex justify-between items-center p-3 bg-purple-50 rounded-xl",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:y*.1+.6},whileHover:{scale:1.02},children:[e.jsx("span",{className:"font-medium text-gray-700",children:f}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-3",children:e.jsx(i.div,{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-3 rounded-full",initial:{width:0},animate:{width:`${w/Math.max(...Object.values(a.trend_analysis.topic_trends))*100}%`},transition:{duration:1,delay:y*.1+.8}})}),e.jsx("span",{className:"font-bold text-purple-600",children:w})]})]},f))})]})]})]});return s?e.jsx("div",{className:"max-w-7xl mx-auto p-8",children:e.jsxs(i.div,{className:"animate-pulse",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"h-12 bg-gradient-to-r from-gray-200 to-gray-300 rounded-xl w-1/3 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((f,w)=>e.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-gray-300 h-32 rounded-2xl"},w))}),e.jsx("div",{className:"bg-gradient-to-r from-gray-200 to-gray-300 h-96 rounded-2xl"})]})}):e.jsxs(i.div,{className:"max-w-7xl mx-auto p-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[e.jsx("div",{className:"mb-8",children:e.jsxs(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Comprehensive analysis of your research paper generation"})]})}),e.jsx(i.div,{className:"border-b-2 border-gray-200 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:e.jsx(se,{className:"h-5 w-5"})},{id:"quality",label:"Quality",icon:e.jsx(Ae,{className:"h-5 w-5"})},{id:"sources",label:"Sources",icon:e.jsx(ne,{className:"h-5 w-5"})},{id:"trends",label:"Trends",icon:e.jsx(Q,{className:"h-5 w-5"})}].map((f,w)=>e.jsxs(i.button,{onClick:()=>o(f.id),className:`flex items-center space-x-3 py-3 px-4 border-b-2 font-semibold text-lg transition-all duration-300 ${r===f.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1+.3},whileHover:{y:-2},children:[f.icon,e.jsx("span",{children:f.label})]},f.id))})}),e.jsx(U,{mode:"wait",children:e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[r==="overview"&&b(),r==="quality"&&d(),r==="sources"&&j(),r==="trends"&&C()]},r)})]})},As={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8000",VITE_API_BASE_URL:"http://localhost:8000"},Os=()=>{const[t,s]=u.useState("search"),[a,r]=u.useState(null),[o,n]=u.useState(!1),[l,m]=u.useState(null),[c,p]=u.useState("papers"),b=async(h,$)=>{n(!0),m(null),s("results");try{const A="http://localhost:8000";console.log("Using API Base URL:",A),console.log("Environment vars:",As);const O=await fetch(`${A}/research-pipeline`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:h,max_papers:$.maxPapers,sources:$.sources,paper_length:$.paperType==="short"?"short":$.paperType==="long"?"long":"medium",citation_style:"apa"})});if(!O.ok)throw new Error("Failed to generate research paper");const E=await O.json();if(console.log("Backend response:",E),E.status==="error")throw new Error(E.error||"Pipeline execution failed");const T={topic:E.query,papers:E.papers||[],summaries:E.summaries||{},citations:E.citations||{},draft_paper:E.draft_paper||E.draft||null,references:E.references||E.papers||[],analytics:E.analytics||null,status:E.status||"completed",processing_time:E.processing_time};console.log("Normalized data:",T),r(T),s("results"),p("papers")}catch{const O=new Date().toISOString(),E=[{id:"p1",title:`${h} - A Comprehensive Overview`,authors:["Alice Smith","Bob Johnson"],abstract:`This paper explores ${h} with a focus on recent advancements and applications.`,published_date:"2023-06-01",journal:"Journal of Research",url:"https://example.com/paper1",relevance_score:.85,citations_count:42,year:2023}],T={thematic_summary:`Key themes in ${h} include methodology, applications, and future directions.`,key_findings:[{finding:`Significant progress in ${h} since 2020`,papers:E,confidence:.8}],methodology_summary:{experimental:E,computational:E},individual_summaries:[{paper_id:"p1",title:E[0].title,summary:E[0].abstract,key_points:[],relevance_score:.85}],gaps_and_opportunities:["Need for larger datasets","Standardized benchmarks"]},z={title:`${h}: A Mock Generated Paper`,abstract:`This mock abstract summarizes ${h} and references findings [1].`,sections:{introduction:`Introduction to ${h}.`,literature_review:`A review of ${h} literature.`,discussion:`Discussion on ${h}.`,conclusion:`Conclusions about ${h}.`},metadata:{topic:h,word_count:1200,generation_date:O}},ee=[{id:"r1",title:`${h} Study`,authors:["Alice Smith","Bob Johnson"],journal:"Journal of Research",year:"2023",relevance_score:.9,citations_count:42,url:"https://example.com/paper1"}],W={paper_metrics:{word_count:1200,section_count:4,abstract_length:25,average_section_length:300,readability_score:.6,citation_density:12},content_analysis:{keywords:[h.split(" ")[0]||"topic","analysis","methodology"],topics:["Applications","Trends"],sentiment:{positive:.6,negative:.1,neutral:.3},coherence_score:.8,academic_tone_score:.7},source_analysis:{total_sources:1,publication_years:{earliest:2023,latest:2023,average:2023,median:2023},journal_diversity:1,author_diversity:2,citation_impact:{total_citations:42,average_citations:42,median_citations:42,max_citations:42},relevance_analysis:{average_relevance:.85,median_relevance:.85,high_relevance_count:1}},trend_analysis:{publication_trends:{year_distribution:{2023:1},growth_rate:0,recent_activity:1},methodological_trends:{experimental:1,computational:1},topic_trends:{[h.split(" ")[0]||"topic"]:1}},recommendations:["Increase citation density","Add methodology details"]};r({topic:h,papers:E,summaries:T,citations:{},draft_paper:z,references:ee,analytics:W,status:"completed"}),s("paper")}finally{n(!1)}},d=h=>{},j=()=>{const h=[{id:"search",label:"Search",icon:e.jsx(ye,{className:"h-4 w-4"})},{id:"results",label:"Analysis",icon:e.jsx(q,{className:"h-4 w-4"})},{id:"paper",label:"Generate",icon:e.jsx(H,{className:"h-4 w-4"})},{id:"analytics",label:"Insights",icon:e.jsx(se,{className:"h-4 w-4"})}];return e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-6xl mx-auto mb-12",children:e.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/30 via-purple-500/20 to-pink-400/30 backdrop-blur-3xl"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-transparent animate-pulse"}),e.jsxs("div",{className:"absolute inset-0 opacity-40",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gradient-radial from-blue-400/40 to-transparent rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-gradient-radial from-purple-500/30 to-transparent rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-radial from-pink-400/20 to-transparent rounded-full blur-2xl animate-pulse delay-500"})]}),e.jsx("div",{className:"relative flex items-center justify-between z-10",children:h.map(($,A)=>e.jsxs(it.Fragment,{children:[e.jsxs(i.div,{className:"flex items-center space-x-3 relative z-10",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:A*.1},children:[e.jsx(i.div,{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 shadow-lg ${t===$.id||a&&t!=="search"?"border-gradient-to-r from-blue-500 to-purple-600 bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-blue-500/25":"border-gray-300 bg-white text-gray-500 hover:border-gray-400"}`,whileHover:{scale:1.1},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:o&&t===$.id?e.jsx(qt,{className:"h-5 w-5 animate-spin"}):$.icon}),e.jsx("span",{className:`text-sm font-semibold ${t===$.id||a&&t!=="search"?"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600":"text-gray-500"}`,children:$.label})]}),A<h.length-1&&e.jsx("div",{className:"flex-1 mx-6"})]},$.id))})]})})},C=()=>e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"space-y-12",children:[e.jsxs(i.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-6 shadow-2xl shadow-blue-500/25",children:e.jsx(ce,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 via-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"MIT Research Paper Generator"}),e.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:["Generate comprehensive research papers with AI-powered analysis, automatic citation management, and quality assessment. Transform your research ideas into",e.jsx("span",{className:"font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:" publication-ready papers"})," in minutes."]})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:e.jsx(Es,{onSearch:b,loading:o})}),e.jsx(U,{children:l&&e.jsx(i.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"h-6 w-6 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Generation Error"}),e.jsx("div",{className:"mt-2 text-red-700",children:l}),e.jsx("button",{onClick:()=>m(null),className:"mt-3 text-sm text-red-600 hover:text-red-800 font-medium",children:"Dismiss"})]})]})})})}),e.jsxs(i.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-4",children:"Powerful Features"}),e.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Everything you need to transform research ideas into publication-ready papers"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:e.jsx(ye,{className:"h-8 w-8"}),title:"Smart Search",description:"Search across multiple academic databases including arXiv, PubMed, and Google Scholar to find the most relevant papers.",gradient:"from-blue-500 to-cyan-500",bgGradient:"from-blue-50 to-cyan-50"},{icon:e.jsx(q,{className:"h-8 w-8"}),title:"AI-Powered Analysis",description:"Advanced AI algorithms analyze papers, extract key findings, and generate comprehensive summaries.",gradient:"from-green-500 to-emerald-500",bgGradient:"from-green-50 to-emerald-50"},{icon:e.jsx(H,{className:"h-8 w-8"}),title:"Paper Generation",description:"Generate well-structured research papers with proper citations, methodology, and academic formatting.",gradient:"from-purple-500 to-violet-500",bgGradient:"from-purple-50 to-violet-50"},{icon:e.jsx(se,{className:"h-8 w-8"}),title:"Quality Analytics",description:"Comprehensive analytics and quality assessment to ensure your paper meets academic standards.",gradient:"from-orange-500 to-red-500",bgGradient:"from-orange-50 to-red-50"},{icon:e.jsx(G,{className:"h-8 w-8"}),title:"Citation Management",description:"Automatic citation formatting in multiple styles (APA, MLA, Chicago, IEEE) with proper reference management.",gradient:"from-pink-500 to-rose-500",bgGradient:"from-pink-50 to-rose-50"},{icon:e.jsx(Q,{className:"h-8 w-8"}),title:"Trend Analysis",description:"Analyze research trends, identify gaps, and discover emerging topics in your field of study.",gradient:"from-indigo-500 to-blue-500",bgGradient:"from-indigo-50 to-blue-50"}].map((h,$)=>e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8+$*.1},className:"group relative",children:e.jsxs("div",{className:`bg-gradient-to-br ${h.bgGradient} p-8 rounded-2xl shadow-lg border border-white/20 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2`,children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:`p-3 bg-gradient-to-r ${h.gradient} rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e.jsx("div",{className:"text-white",children:h.icon})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-gray-900 group-hover:to-gray-600 transition-all duration-300",children:h.title})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:h.description}),e.jsxs("div",{className:"mt-6 flex items-center text-sm font-medium text-gray-500 group-hover:text-gray-700 transition-colors duration-300",children:[e.jsx("span",{children:"Learn more"}),e.jsx(Le,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})]})},h.title))})]})]}),f=()=>{var $,A,O,E;if(!a)return null;const h=[{id:"papers",label:"Papers",icon:e.jsx(H,{className:"h-4 w-4"}),count:(($=a.papers)==null?void 0:$.length)||0},{id:"summaries",label:"Summaries",icon:e.jsx(q,{className:"h-4 w-4"}),count:Object.keys(a.summaries||{}).length},{id:"draft",label:"Draft",icon:e.jsx(Vt,{className:"h-4 w-4"}),count:a.draft_paper?1:0},{id:"references",label:"References",icon:e.jsx(G,{className:"h-4 w-4"}),count:((A=a.references)==null?void 0:A.length)||0},{id:"analytics",label:"Analytics",icon:e.jsx(se,{className:"h-4 w-4"}),count:a.analytics?1:0}];return e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:['Research Results for "',a.topic,'"']}),e.jsxs("p",{className:"text-gray-600",children:["Pipeline completed in ",(O=a.processing_time)==null?void 0:O.toFixed(2),"s • Found ",((E=a.papers)==null?void 0:E.length)||0," papers"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-gray-100 p-1 rounded-lg inline-flex space-x-1",children:h.map(T=>e.jsxs("button",{onClick:()=>p(T.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${c===T.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[T.icon,e.jsx("span",{children:T.label}),T.count>0&&e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${c===T.id?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-600"}`,children:T.count})]},T.id))})}),e.jsxs("div",{className:"min-h-[600px]",children:[c==="papers"&&w(),c==="summaries"&&y(),c==="draft"&&k(),c==="references"&&S(),c==="analytics"&&_()]})]})},w=()=>a!=null&&a.papers?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Retrieved Papers"}),e.jsx("div",{className:"grid gap-4",children:a.papers.map((h,$)=>{var A;return e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.1},className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:h.title}),e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full ml-2",children:h.source})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[e.jsx("span",{children:((A=h.authors)==null?void 0:A.join(", "))||"Unknown authors"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:h.year}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[h.citation_count," citations"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Relevance: ",(h.relevance_score*100).toFixed(1),"%"]})]}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed mb-4 line-clamp-3",children:h.abstract||"No abstract available"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2",children:[h.doi&&e.jsx("a",{href:`https://doi.org/${h.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View DOI"}),h.url&&e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Paper"})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["#",$+1]})]})]},$)})})]}):null,y=()=>a!=null&&a.summaries?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Research Summaries"}),Object.entries(a.summaries).map(([h,$])=>{var A,O,E;return e.jsx(Ts,{summary:{type:h,title:h.replace("_"," ").replace(/\b\w/g,T=>T.toUpperCase()),content:$,metadata:{paper_count:((A=a.papers)==null?void 0:A.length)||0,average_relevance:((O=a.papers)==null?void 0:O.reduce((T,z)=>T+(z.relevance_score||0),0))/(((E=a.papers)==null?void 0:E.length)||1)||0}},onPaperSelect:d},h)})]}):null,k=()=>a!=null&&a.draft_paper?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Generated Paper Draft"}),e.jsx(Ps,{paper:a.draft_paper,editable:!0})]}):null,S=()=>!(a!=null&&a.references)||a.references.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",children:[e.jsx(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No References Available"}),e.jsx("p",{className:"text-gray-600",children:"References will appear here once papers are analyzed."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"References & Citations"}),e.jsx(Rs,{references:a.references,citationStyle:"apa",onReferenceSelect:d,researchData:a})]}),_=()=>a!=null&&a.analytics?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Research Analytics"}),e.jsx(rt,{analytics:a.analytics,papers:a.papers})]}):null,R=()=>a!=null&&a.draft_paper?e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Generated Paper"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Your AI-generated research paper is ready"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(i.button,{onClick:()=>s("analytics"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:"View Analytics"})]})}),e.jsx(i.button,{onClick:()=>s("results"),className:"px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Analysis"})]})})]})]}),f()]}):null,N=()=>a!=null&&a.analytics?e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive insights into your research"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx(i.button,{onClick:()=>s("paper"),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Paper"})]})})})]}),e.jsx(rt,{analytics:a.analytics})]}):e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center py-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",children:[e.jsx(se,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analytics Available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Analytics data is not available for this research session."}),e.jsx("button",{onClick:()=>s("paper"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Paper"})]})});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[j(),e.jsxs(U,{mode:"wait",children:[t==="search"&&e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.5},children:C()},"search"),t==="results"&&e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.5},children:f()},"results"),t==="paper"&&e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.5},children:R()},"paper"),t==="analytics"&&e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.5},children:N()},"analytics")]})]})})};function Ls(){return e.jsx(Fa,{children:e.jsxs("div",{className:"App min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"MIT"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Research Paper Generator"})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[e.jsx("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Features"}),e.jsx("a",{href:"#about",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"About"}),e.jsx("a",{href:"#contact",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Contact"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-600 hidden sm:block",children:"System Online"})]})]})]})})}),e.jsx("main",{className:"relative",children:e.jsx(Ia,{children:e.jsx(Nt,{path:"/",element:e.jsx(Os,{})})})}),e.jsx("footer",{className:"bg-white/80 backdrop-blur-md border-t border-gray-200/50 mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"MIT"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Research Paper Generator"})]}),e.jsx("p",{className:"text-gray-600 max-w-md",children:"Transform your research ideas into publication-ready papers with AI-powered analysis, automatic citation management, and comprehensive quality assessment."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Features"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsx("li",{children:"Smart Search"}),e.jsx("li",{children:"AI Analysis"}),e.jsx("li",{children:"Paper Generation"}),e.jsx("li",{children:"Citation Management"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Resources"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsx("li",{children:"Documentation"}),e.jsx("li",{children:"API Reference"}),e.jsx("li",{children:"Support"}),e.jsx("li",{children:"Community"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 mt-8 pt-8 flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"© 2024 MIT Research Paper Generator. All rights reserved."}),e.jsxs("div",{className:"flex space-x-6 mt-4 sm:mt-0",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-600 transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-600 transition-colors",children:"Terms of Service"})]})]})]})}),e.jsx($s,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})}const Pt=document.createElement("style");Pt.textContent=`
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: #f1f5f9;
  }
  
  ::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #3b82f6, #8b5cf6);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #2563eb, #7c3aed);
  }

  /* Enhanced focus styles */
  *:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Smooth transitions for all interactive elements */
  button, a, input, textarea, select {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Custom gradient text animation */
  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-shift 3s ease infinite;
  }

  /* Enhanced backdrop blur support */
  @supports (backdrop-filter: blur(10px)) {
    .backdrop-blur-enhanced {
      backdrop-filter: blur(10px) saturate(180%);
    }
  }

  /* Custom loading animation */
  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  .shimmer {
    position: relative;
    overflow: hidden;
  }

  .shimmer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: shimmer 1.5s infinite;
  }

  /* Glassmorphism effect */
  .glass {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.18);
  }

  /* Enhanced shadows */
  .shadow-premium {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  .shadow-glow {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
  }

  /* Custom selection */
  ::selection {
    background: rgba(59, 130, 246, 0.2);
    color: #1e40af;
  }

  /* Print styles */
  @media print {
    .no-print {
      display: none !important;
    }
    
    body {
      background: white !important;
    }
  }
`;document.head.appendChild(Pt);He.createRoot(document.getElementById("root")).render(e.jsx(it.StrictMode,{children:e.jsx(Ls,{})}));
//# sourceMappingURL=index-CndIwrCa.js.map
